(self.AMP = self.AMP || []).push({n:"amp-accordion", f:(function(AMP) {function h(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a;for(var d in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,d);e&&Object.defineProperty(a,d,e)}else a[d]=b[d]};Date.now();self.log=self.log||{user:null,dev:null};var k=self.log;function l(){if(k.user)return k.user;throw Error("failed to call initLogConstructor");};function m(a){AMP.BaseElement.call(this,a);this.a=this.b=this.c=null}h(m,AMP.BaseElement);m.prototype.isLayoutSupported=function(a){return"container"==a};
m.prototype.buildCallback=function(){var a=this;this.c=this.getRealChildren();this.b=n(this);this.element.setAttribute("role","tablist");this.a=p(this);this.a||(this.a=Object.create(null));this.c.forEach(function(b,c){l().assert("section"==b.tagName.toLowerCase(),"Sections should be enclosed in a <section> tag, See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",a.element);var d=b.children;l().assert(2==d.length,"Each section must have exactly two children. See https://github.com/ampproject/amphtml/blob/master/extensions/amp-accordion/amp-accordion.md. Found in: %s",
a.element);var e=d[0],f=d[1];e.classList.add("-amp-accordion-header");e.setAttribute("role","tab");f.classList.add("-amp-accordion-content");f.setAttribute("role","tabpanel");var g=f.getAttribute("id");g||(g=a.element.id+"_AMP_content_"+c,f.setAttribute("id",g));a.a[g]?b.setAttribute("expanded",""):0==a.a[g]&&b.removeAttribute("expanded");e.setAttribute("aria-controls",g);e.setAttribute("aria-expanded",b.hasAttribute("expanded").toString());e.addEventListener("click",a.f.bind(a))})};
function n(a){var b=a.element.id;a=a.win.location.href;var c=a.indexOf("#");a=-1==c?a:a.substring(0,c);return"amp-"+b+"-"+a}function p(a){try{var b=a.win.sessionStorage.getItem(a.b);return JSON.parse(b)}catch(c){return null}}function q(a){var b=JSON.stringify(a.a);try{a.win.sessionStorage.setItem(a.b,b)}catch(c){}}
m.prototype.f=function(a){a.preventDefault();var b=a.currentTarget.parentNode,c=b.children,d=c[0],c=c[1],e=c.getAttribute("id"),f=b.hasAttribute("expanded");this.mutateElement(function(){b.hasAttribute("expanded")?(b.removeAttribute("expanded"),d.setAttribute("aria-expanded","false")):(b.setAttribute("expanded",""),d.setAttribute("aria-expanded","true"))},c);this.a[e]=!f;q(this)};AMP.registerElement("amp-accordion",m,"amp-accordion{display:block!important}amp-accordion>section{float:none!important}amp-accordion>section>:nth-child(n){display:none!important;float:none!important}amp-accordion>section>.-amp-accordion-content,amp-accordion>section>.-amp-accordion-header{display:block!important;overflow:hidden!important;position:relative!important}.-amp-accordion-content,.-amp-accordion-header,amp-accordion,amp-accordion>section{margin:0}.-amp-accordion-header{cursor:pointer;background-color:#efefef;padding-right:20px;border:1px solid #dfdfdf}amp-accordion>section>.-amp-accordion-content{display:none!important}amp-accordion>section[expanded]>.-amp-accordion-content{display:block!important}\n/*# sourceURL=/extensions/amp-accordion/0.1/amp-accordion.css*/");
})});
//# sourceMappingURL=amp-accordion-0.1.js.map

