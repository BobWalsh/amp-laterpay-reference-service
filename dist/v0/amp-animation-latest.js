(self.AMP = self.AMP || []).push({n:"amp-animation", f:(function(AMP) {function y(e,n){function p(){}p.prototype=n.prototype;e.prototype=new p;e.prototype.constructor=e;for(var t in n)if(Object.defineProperties){var u=Object.getOwnPropertyDescriptor(n,t);u&&Object.defineProperty(e,t,u)}else e[t]=n[t]};Date.now();self.log=self.log||{user:null,dev:null};var D=self.log;function E(){if(D.user)return D.user;throw Error("failed to call initLogConstructor");};var F=Object.prototype.toString;function G(e,n){for(var p=e.firstElementChild;p;p=p.nextElementSibling)if(n(p))return p;return null}var H;function K(e){var n="script";if(null==H)try{e.ownerDocument.querySelector(":scope"),H=!0}catch(p){H=!1}if(H)return e.querySelector(":scope > "+n);n=n.toUpperCase();return G(e,function(e){return e.tagName==n})};var L;
function aa(e){var n="amp-animation",p=L||(L=Object.create(null)),t;if(n in p)t=p[n];else{t=n;var u=n,r;if(e._experimentCookie)r=e._experimentCookie;else{c:{d:{try{r=e.document.cookie;break d}catch(q){}r=void 0}if(r){r=r.split(";");for(var v=0;v<r.length;v++){var w=r[v].trim(),b=w.indexOf("=");if(-1!=b&&"AMP_EXP"==decodeURIComponent(w.substring(0,b).trim())){r=decodeURIComponent(w.substring(b+1).trim());break c}}}r=null}r=e._experimentCookie=r?r.split(/\s*,\s*/g):[]}e=-1!=r.indexOf(u)?!0:e.AMP_CONFIG&&e.AMP_CONFIG.hasOwnProperty(u)?
Math.random()<e.AMP_CONFIG[u]:!1;t=p[t]=e}return t};var N,O="Webkit webkit Moz moz ms O o".split(" ");function ba(e,n){try{return JSON.parse(e)}catch(p){n&&n(p)}};function ca(e){var n=e.document;!function(p,t){var u={},r={};!function(e){function r(a){return a}function b(){this._endDelay=this._delay=0;this._fill="none";this._iterationStart=0;this._iterations=1;this._duration=0;this._playbackRate=1;this._direction="normal";this._easing="linear";this._easingFunction=r}function q(){return e.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function m(a,c){var g=new b;return c&&(g.fill="both",g.duration="auto"),
"number"!=typeof a||isNaN(a)?void 0!==a&&Object.getOwnPropertyNames(a).forEach(function(c){"auto"==a[c]||("number"==typeof g[c]||"duration"==c)&&("number"!=typeof a[c]||isNaN(a[c]))||"fill"==c&&-1==da.indexOf(a[c])||"direction"==c&&-1==z.indexOf(a[c])||"playbackRate"==c&&1!==a[c]&&e.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead.")||(g[c]=a[c])}):g.duration=a,g}function d(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function k(a,
c,g,h){return 0>a||1<a||0>g||1<g?r:function(b){if(0>=b){var d=0;return 0<a?d=c/a:!c&&0<g&&(d=h/g),d*b}if(1<=b)return d=0,1>g?d=(h-1)/(g-1):1==g&&1>a&&(d=(c-1)/(a-1)),1+d*(b-1);for(var d=0,l=1;d<l;){var f=(d+l)/2,k=3*a*(1-f)*(1-f)*f+3*g*(1-f)*f*f+f*f*f;if(1E-5>Math.abs(b-k))break;k<b?d=f:l=f}return 3*c*(1-f)*(1-f)*f+3*h*(1-f)*f*f+f*f*f}}function l(a,c){return function(g){if(1<=g)return 1;var b=1/a;return g+=c*b,g-g%b}}function a(a){t||(t=n.createElement("div").style);t.animationTimingFunction="";t.animationTimingFunction=
a;var c=t.animationTimingFunction;if(""==c&&q())throw new TypeError(a+" is not a valid value for easing");return c}function c(a){if("linear"==a)return r;var c=u.exec(a);return c?k.apply(this,c.slice(1).map(Number)):(c=ea.exec(a))?l(Number(c[1]),{start:R,middle:S,end:p}[c[2]]):(a=v[a])?a:r}function h(a){return Math.abs((0===a.duration||0===a.iterations?0:a.duration*a.iterations)/a.playbackRate)}function f(a,c,g){if(null==c)return x;var b=g.delay+a+g.endDelay;return c<Math.min(g.delay,b)?M:c>=Math.min(g.delay+
a,b)?I:A}function g(a,c,g,b,h){return 0===a?c!==M&&(h+=g):h+=b/a,h}function B(a,c,g){var b=a;"normal"!==a&&"reverse"!==a&&("alternate-reverse"===a&&(c+=1),b="normal",c!==1/0&&0!==c%2&&(b="reverse"));return"normal"===b?g:1-g}function C(a,c,b){var h=f(a,c,b),d;a:{d=b.fill;switch(h){case M:d="backwards"==d||"both"==d?0:null;break a;case A:d=c-b.delay;break a;case I:d="forwards"==d||"both"==d?a:null;break a;case x:d=null;break a}d=void 0}if(null===d)return null;a=g(b.duration,h,b.iterations,d,b.iterationStart);
c=a===1/0?b.iterationStart%1:a%1;d=(0!==c||h!==I||0===b.iterations||0===d&&0!==b.duration||(c=1),c);h=B(b.direction,h===I&&b.iterations===1/0?1/0:1===d?Math.floor(a)-1:Math.floor(a),d);return b._easingFunction(h)}var da=["backwards","forwards","both","none"],z=["reverse","alternate","alternate-reverse"];b.prototype={_setMember:function(a,c){this["_"+a]=c;this._effect&&(this._effect._timingInput[a]=c,this._effect._timing=e.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=
e.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&q())throw new TypeError("iterationStart must be a non-negative number, received: "+
timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&q())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(g){this._easingFunction=c(a(g));this._setMember("easing",g)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||
0>a)&&q())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var R=1,S=.5,p=0,v={ease:k(.25,.1,.25,1),"ease-in":k(.42,0,1,1),"ease-out":k(0,0,.58,1),"ease-in-out":k(.42,0,.58,1),"step-start":l(1,R),"step-middle":l(1,S),"step-end":l(1,p)},t=null,J="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",u=new RegExp("cubic-bezier\\("+J+","+J+","+J+","+J+"\\)"),ea=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,x=0,M=1,I=2,A=
3;e.cloneTimingInput=function(a){if("number"==typeof a)return a;var c={},g;for(g in a)c[g]=a[g];return c};e.makeTiming=m;e.numericTimingToObject=d;e.normalizeTimingInput=function(a,c){return a=e.numericTimingToObject(a),m(a,c)};e.calculateActiveDuration=h;e.calculateIterationProgress=C;e.calculatePhase=f;e.normalizeEasing=a;e.parseEasingFunction=c}(u,null);(function(r){function p(b){var d=[],a;for(a in b)if(!(a in["easing","offset","composite"])){var c=b[a];Array.isArray(c)||(c=[c]);for(var h,f=c.length,
g=0;g<f;g++)h={},"offset"in b?h.offset=b.offset:1==f?h.offset=1:h.offset=g/(f-1),"easing"in b&&(h.easing=b.easing),"composite"in b&&(h.composite=b.composite),h[a]=c[g],d.push(h)}return d.sort(function(a,c){return a.offset-c.offset}),d}var b={background:"backgroundImage backgroundPosition backgroundSize backgroundRepeat backgroundAttachment backgroundOrigin backgroundClip backgroundColor".split(" "),border:"borderTopColor borderTopStyle borderTopWidth borderRightColor borderRightStyle borderRightWidth borderBottomColor borderBottomStyle borderBottomWidth borderLeftColor borderLeftStyle borderLeftWidth".split(" "),
borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth",
"borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:"fontFamily fontSize fontStyle fontVariant fontWeight lineHeight".split(" "),margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},q=n.createElementNS("http://www.w3.org/1999/xhtml","div"),m={thin:"1px",medium:"3px",thick:"5px"},d={borderBottomWidth:m,borderLeftWidth:m,
borderRightWidth:m,borderTopWidth:m,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:m,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};r.convertToArrayForm=p;r.normalizeKeyframes=function(k){function l(){var c=a.length;null==a[c-1].offset&&(a[c-1].offset=1);1<c&&null==a[0].offset&&(a[0].offset=0);for(var b=0,d=a[0].offset,h=1;h<c;h++){var f=
a[h].offset;if(null!=f){for(var l=1;l<h-b;l++)a[b+l].offset=d+(f-d)*l/(h-b);b=h;d=f}}}if(null==k)return[];e.Symbol&&Symbol.iterator&&Array.prototype.from&&k[Symbol.iterator]&&(k=Array.from(k));Array.isArray(k)||(k=p(k));var a=k.map(function(a){var c={},g;for(g in a){var h=a[g];if("offset"==g){if(null!=h){if(h=Number(h),!isFinite(h))throw new TypeError("Keyframe offsets must be numbers.");if(0>h||1<h)throw new TypeError("Keyframe offsets must be between 0 and 1.");}}else if("composite"==g){if("add"==
h||"accumulate"==h)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=h)throw new TypeError("Invalid composite mode "+h+".");}else h="easing"==g?r.normalizeEasing(h):""+h;var f=g,l=h,h=c,k=f;if("display"!==k&&0!==k.lastIndexOf("animation",0)&&0!==k.lastIndexOf("transition",0))if(k=b[f])for(f in q.style[f]=l,f=void 0,k){var l=k[f],m=q.style[l];h[l]=l in d?d[l][m]||m:m}else h[f]=f in d?d[f][l]||l:l}return void 0==c.offset&&(c.offset=
null),void 0==c.easing&&(c.easing="linear"),c});k=!0;for(var c=-(1/0),h=0;h<a.length;h++){var f=a[h].offset;if(null!=f){if(f<c)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");c=f}else k=!1}return a=a.filter(function(a){return 0<=a.offset&&1>=a.offset}),k||l(),a}})(u,null);(function(e){var n={};e.isDeprecated=function(b,q,m,d){d=d?"are":"is";var k=new Date;q=new Date(q);return q.setMonth(q.getMonth()+3),!(k<q&&(b in n||console.warn("Web Animations: "+b+" "+
d+" deprecated and will stop working on "+q.toDateString()+". "+m),n[b]=!0,1))};e.deprecated=function(b,q,m,d){var k=d?"are":"is";if(e.isDeprecated(b,q,m,d))throw Error(b+" "+k+" no longer supported. "+m);}})(u);(function(){if(n.documentElement.animate){var p=n.documentElement.animate([],0),t=!0;if(p&&(t=!1,"play currentTime pause reverse playbackRate cancel finish startTime playState".split(" ").forEach(function(b){void 0===p[b]&&(t=!0)})),!t)return}!function(b,q){function m(b){for(var d={},a=0;a<
b.length;a++)for(var c in b[a])if("offset"!=c&&"easing"!=c&&"composite"!=c){var h={offset:b[a].offset,easing:b[a].easing,value:b[a][c]};d[c]=d[c]||[];d[c].push(h)}for(var f in d)if(b=d[f],0!=b[0].offset||1!=b[b.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"};return d}function d(d){var l=[],a;for(a in d)for(var c=d[a],h=0;h<c.length-1;h++){var f=h,g=h+1,k=c[f].offset,m=c[g].offset,e=k,z=m;0==h&&(e=-(1/0),0==m&&(g=f));
h==c.length-2&&(z=1/0,1==k&&(f=g));l.push({applyFrom:e,applyTo:z,startOffset:c[f].offset,endOffset:c[g].offset,easingFunction:b.parseEasingFunction(c[f].easing),property:a,interpolation:q.propertyInterpolation(a,c[f].value,c[g].value)})}return l.sort(function(a,c){return a.startOffset-c.startOffset}),l}q.convertEffectInput=function(k){k=b.normalizeKeyframes(k);var l=m(k),a=d(l);return function(c,b){if(null!=b)a.filter(function(a){return b>=a.applyFrom&&b<a.applyTo}).forEach(function(a){var g=b-a.startOffset,
h=a.endOffset-a.startOffset,g=0==h?0:a.easingFunction(g/h);q.apply(c,a.property,a.interpolation(g))});else for(var h in l)"offset"!=h&&"easing"!=h&&"composite"!=h&&q.clear(c,h)}}}(u,r,null);(function(b,q){function m(b){return b.replace(/-(.)/g,function(a,c){return c.toUpperCase()})}var d={};q.addPropertiesHandler=function(b,a,c){for(var h=0;h<c.length;h++){var f=b,g=a,l=m(c[h]);d[l]=d[l]||[];d[l].push([f,g])}};var k={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",
borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",
marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};q.propertyInterpolation=function(l,a,c){var h=l;/-/.test(l)&&!b.isDeprecated("Hyphenated property names",
"2016-03-22","Use camelCase instead.",!0)&&(h=m(l));"initial"!=a&&"initial"!=c||("initial"==a&&(a=k[h]),"initial"==c&&(c=k[h]));l=a==c?[]:d[h];for(h=0;l&&h<l.length;h++){var f=l[h][0](a),g=l[h][0](c);if(void 0!==f&&void 0!==g&&(f=l[h][1](f,g))){var e=q.Interpolation.apply(null,f);return function(b){return 0==b?a:1==b?c:e(b)}}}return q.Interpolation(!1,!0,function(b){return b?c:a})}})(u,r,null);(function(b,q){function e(d){function k(a){return b.calculateIterationProgress(l,a,d)}var l=b.calculateActiveDuration(d);
return k._totalDuration=d.delay+l+d.endDelay,k}q.KeyframeEffect=function(d,k,l,a){function c(){g(d,h)}var h,f=e(b.normalizeTimingInput(l)),g=q.convertEffectInput(k);return c._update=function(a){return h=f(a),null!==h},c._clear=function(){g(d,null)},c._hasSameTarget=function(a){return d===a},c._target=d,c._totalDuration=f._totalDuration,c._id=a,c};q.NullEffect=function(b){function d(){b&&(b(),b=null)}return d._update=function(){return null},d._totalDuration=0,d._hasSameTarget=function(){return!1},
d}})(u,r,null);(function(b){function q(a,c,b){b.enumerable=!0;b.configurable=!0;Object.defineProperty(a,c,b)}function e(a){this._surrogateStyle=n.createElementNS("http://www.w3.org/1999/xhtml","div").style;this._style=a.style;this._length=0;this._isAnimatedProperty={};for(a=0;a<this._style.length;a++){var c=this._style[a];this._surrogateStyle[c]=this._style[c]}this._updateIndices()}function d(a){if(!a._webAnimationsPatchedStyle){var c=new e(a);try{q(a,"style",{get:function(){return c}})}catch(B){a.style._set=
function(c,b){a.style[c]=b},a.style._clear=function(c){a.style[c]=""}}a._webAnimationsPatchedStyle=a.style}}var k={cssText:1,length:1,parentRule:1},l={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},a={removeProperty:1,setProperty:1};e.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(a){for(var c={},b=0;b<this._surrogateStyle.length;b++)c[this._surrogateStyle[b]]=!0;this._surrogateStyle.cssText=a;this._updateIndices();
for(b=0;b<this._surrogateStyle.length;b++)c[this._surrogateStyle[b]]=!0;for(var h in c)this._isAnimatedProperty[h]||this._style.setProperty(h,this._surrogateStyle.getPropertyValue(h))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(a){return function(){return this._surrogateStyle[a]}}(this._length)}),
this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(a,c){this._style[a]=c;this._isAnimatedProperty[a]=!0},_clear:function(a){this._style[a]=this._surrogateStyle[a];delete this._isAnimatedProperty[a]}};for(var c in l)e.prototype[c]=function(a,c){return function(){var b=this._surrogateStyle[a].apply(this._surrogateStyle,arguments);return c&&(this._isAnimatedProperty[arguments[0]]||
this._style[a].apply(this._style,arguments),this._updateIndices()),b}}(c,c in a);for(var h in n.documentElement.style)h in k||h in l||!function(a){q(e.prototype,a,{get:function(){return this._surrogateStyle[a]},set:function(c){this._surrogateStyle[a]=c;this._updateIndices();this._isAnimatedProperty[a]||(this._style[a]=c)}})}(h);b.apply=function(a,c,h){d(a);a.style._set(b.propertyName(c),h)};b.clear=function(a,c){a._webAnimationsPatchedStyle&&a.style._clear(b.propertyName(c))}})(r,null);(function(b){e.Element.prototype.animate=
function(e,m){var d="";return m&&m.id&&(d=m.id),b.timeline._play(b.KeyframeEffect(this,e,m,d))}})(r);(function(b){function e(b,d,k){if("number"==typeof b&&"number"==typeof d)return b*(1-k)+d*k;if("boolean"==typeof b&&"boolean"==typeof d)return.5>k?b:d;if(b.length==d.length){for(var l=[],a=0;a<b.length;a++)l.push(e(b[a],d[a],k));return l}throw"Mismatched interpolation arguments "+b+":"+d;}b.Interpolation=function(b,d,k){return function(l){return k(e(b,d,l))}}})(r,null);(function(b){var e=function(){function b(b,
k){for(var d=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],a=0;4>a;a++)for(var c=0;4>c;c++)for(var h=0;4>h;h++)d[a][c]+=k[a][h]*b[h][c];return d}return function(d,k,l,a,c){for(var h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],f=0;4>f;f++)h[f][3]=c[f];for(f=0;3>f;f++)for(c=0;3>c;c++)h[3][f]+=d[c]*h[c][f];d=a[0];f=a[1];c=a[2];a=a[3];var g=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];g[0][0]=1-2*(f*f+c*c);g[0][1]=2*(d*f-c*a);g[0][2]=2*(d*c+f*a);g[1][0]=2*(d*f+c*a);g[1][1]=1-2*(d*d+c*c);g[1][2]=2*(f*c-d*a);g[2][0]=
2*(d*c-f*a);g[2][1]=2*(f*c+d*a);g[2][2]=1-2*(d*d+f*f);h=b(h,g);a=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];l[2]&&(a[2][1]=l[2],h=b(h,a));l[1]&&(a[2][1]=0,a[2][0]=l[0],h=b(h,a));l[0]&&(a[2][0]=0,a[1][0]=l[0],h=b(h,a));for(f=0;3>f;f++)for(c=0;3>c;c++)h[f][c]*=k[f];return 0==h[0][2]&&0==h[0][3]&&0==h[1][2]&&0==h[1][3]&&0==h[2][0]&&0==h[2][1]&&1==h[2][2]&&0==h[2][3]&&0==h[3][2]&&1==h[3][3]?[h[0][0],h[0][1],h[1][0],h[1][1],h[3][0],h[3][1]]:h[0].concat(h[1],h[2],h[3])}}();b.composeMatrix=e;b.quat=function(e,
d,k){var l=b.dot(e,d),l=Math.max(Math.min(l,1),-1),a=[];if(1===l)a=e;else for(var c=Math.acos(l),h=1*Math.sin(k*c)/Math.sqrt(1-l*l),f=0;4>f;f++)a.push(e[f]*(Math.cos(k*c)-l*h)+d[f]*h);return a}})(r,null);(function(b,e){function q(b,k,l){this.target=b;this.currentTime=k;this.timelineTime=l;this.type="finish";this.cancelable=this.bubbles=!1;this.currentTarget=b;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()}b.sequenceNumber=0;e.Animation=function(d){this.id="";d&&
d._id&&(this.id=d._id);this._sequenceNumber=b.sequenceNumber++;this._currentTime=0;this._startTime=null;this._paused=!1;this._playbackRate=1;this._finishedFlag=this._inTimeline=!0;this.onfinish=null;this._finishHandlers=[];this._effect=d;this._inEffect=this._effect._update(0);this._idle=!0;this._currentTimePending=!1};e.Animation.prototype={_ensureAlive:function(){0>this.playbackRate&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime);
this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,e.timeline._animations.push(this))},_tickCurrentTime:function(b,k){b!=this._currentTime&&(this._currentTime=b,this._isFinished&&!k&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(b){b=+b;isNaN(b)||(e.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-
b/this._playbackRate),this._currentTimePending=!1,this._currentTime!=b&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(b,!0),e.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(b){b=+b;isNaN(b)||this._paused||this._idle||(this._startTime=b,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),e.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(b){if(b!=this._playbackRate){var d=
this.currentTime;this._playbackRate=b;this._startTime=null;"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),e.applyDirtiedAnimation(this));null!=d&&(this.currentTime=d)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||0>this._playbackRate&&0>=this._currentTime)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&
0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1;(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null);this._idle=this._finishedFlag=
!1;this._ensureAlive();e.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0;this._startTime=null;this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,e.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=
!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),e.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1;this.play()},addEventListener:function(b,k){"function"==typeof k&&"finish"==b&&this._finishHandlers.push(k)},removeEventListener:function(b,k){"finish"==b&&(b=this._finishHandlers.indexOf(k),0<=b&&this._finishHandlers.splice(b,1))},_fireEvents:function(b){if(this._isFinished){if(!this._finishedFlag){var d=new q(this,
this._currentTime,b),l=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){l.forEach(function(a){a.call(d.target,d)})},0);this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(b,k){this._idle||this._paused||(null==this._startTime?k&&(this.startTime=b-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((b-this._startTime)*this.playbackRate));k&&(this._currentTimePending=!1,this._fireEvents(b))},get _needsTick(){return this.playState in
{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var b=this._effect._target;return b._activeAnimations||(b._activeAnimations=[]),b._activeAnimations},_markTarget:function(){var b=this._targetAnimations();-1===b.indexOf(this)&&b.push(this)},_unmarkTarget:function(){var b=this._targetAnimations(),k=b.indexOf(this);-1!==k&&b.splice(k,1)}}})(u,r,null);(function(b,q){function m(c){var b=h;h=[];c<z.currentTime&&(c=z.currentTime);z._animations.sort(d);z._animations=a(c,!0,z._animations)[0];
b.forEach(function(a){a[1](c)});l()}function d(a,c){return a._sequenceNumber-c._sequenceNumber}function k(){this._animations=[];this.currentTime=e.performance&&performance.now?performance.now():0}function l(){C.forEach(function(a){a()});C.length=0}function a(a,c,b){n=!0;B=!1;q.timeline.currentTime=a;g=!1;var h=[],d=[],l=[],f=[];return b.forEach(function(b){b._tick(a,c);b._inEffect?(d.push(b._effect),b._markTarget()):(h.push(b._effect),b._unmarkTarget());b._needsTick&&(g=!0);var k=b._inEffect||b._needsTick;
(b._inTimeline=k)?l.push(b):f.push(b)}),C.push.apply(C,h),C.push.apply(C,d),g&&requestAnimationFrame(function(){}),n=!1,[l,f]}var c=e.requestAnimationFrame,h=[],f=0;e.requestAnimationFrame=function(a){var b=f++;return 0==h.length&&c(m),h.push([b,a]),b};e.cancelAnimationFrame=function(a){h.forEach(function(c){c[0]==a&&(c[1]=function(){})})};k.prototype={_play:function(a){a._timing=b.normalizeTimingInput(a.timing);a=new q.Animation(a);return a._idle=!1,a._timeline=this,this._animations.push(a),q.restart(),
q.applyDirtiedAnimation(a),a}};var g=!1,B=!1;q.restart=function(){return g||(g=!0,requestAnimationFrame(function(){}),B=!0),B};q.applyDirtiedAnimation=function(c){n||(c._markTarget(),c=c._targetAnimations(),c.sort(d),a(q.timeline.currentTime,!1,c.slice())[1].forEach(function(a){a=z._animations.indexOf(a);-1!==a&&z._animations.splice(a,1)}),l())};var C=[],n=!1,z=new k;q.timeline=z})(u,r,null);(function(b){function e(a,c){for(var b=0,d=0;d<a.length;d++)b+=a[d]*c[d];return b}function m(a,c){return[a[0]*
c[0]+a[4]*c[1]+a[8]*c[2]+a[12]*c[3],a[1]*c[0]+a[5]*c[1]+a[9]*c[2]+a[13]*c[3],a[2]*c[0]+a[6]*c[1]+a[10]*c[2]+a[14]*c[3],a[3]*c[0]+a[7]*c[1]+a[11]*c[2]+a[15]*c[3],a[0]*c[4]+a[4]*c[5]+a[8]*c[6]+a[12]*c[7],a[1]*c[4]+a[5]*c[5]+a[9]*c[6]+a[13]*c[7],a[2]*c[4]+a[6]*c[5]+a[10]*c[6]+a[14]*c[7],a[3]*c[4]+a[7]*c[5]+a[11]*c[6]+a[15]*c[7],a[0]*c[8]+a[4]*c[9]+a[8]*c[10]+a[12]*c[11],a[1]*c[8]+a[5]*c[9]+a[9]*c[10]+a[13]*c[11],a[2]*c[8]+a[6]*c[9]+a[10]*c[10]+a[14]*c[11],a[3]*c[8]+a[7]*c[9]+a[11]*c[10]+a[15]*c[11],
a[0]*c[12]+a[4]*c[13]+a[8]*c[14]+a[12]*c[15],a[1]*c[12]+a[5]*c[13]+a[9]*c[14]+a[13]*c[15],a[2]*c[12]+a[6]*c[13]+a[10]*c[14]+a[14]*c[15],a[3]*c[12]+a[7]*c[13]+a[11]*c[14]+a[15]*c[15]]}function d(a){return 2*((a.deg||0)/360+(a.grad||0)/400+(a.turn||0))*Math.PI+(a.rad||0)}function k(a){switch(a.t){case "rotatex":return a=d(a.d[0]),[1,0,0,0,0,Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1];case "rotatey":return a=d(a.d[0]),[Math.cos(a),0,-Math.sin(a),0,0,1,0,0,Math.sin(a),0,Math.cos(a),
0,0,0,0,1];case "rotate":case "rotatez":return a=d(a.d[0]),[Math.cos(a),Math.sin(a),0,0,-Math.sin(a),Math.cos(a),0,0,0,0,1,0,0,0,0,1];case "rotate3d":var c=a.d[0],b=a.d[1],l=a.d[2];a=d(a.d[3]);var g=c*c+b*b+l*l;0===g?(c=1,l=b=0):1!==g&&(g=Math.sqrt(g),c/=g,b/=g,l/=g);g=Math.sin(a/2);a=g*Math.cos(a/2);g*=g;return[1-2*(b*b+l*l)*g,2*(c*b*g+l*a),2*(c*l*g-b*a),0,2*(c*b*g-l*a),1-2*(c*c+l*l)*g,2*(b*l*g+c*a),0,2*(c*l*g+b*a),2*(b*l*g-c*a),1-2*(c*c+b*b)*g,0,0,0,0,1];case "scale":return[a.d[0],0,0,0,0,a.d[1],
0,0,0,0,1,0,0,0,0,1];case "scalex":return[a.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case "scaley":return[1,0,0,0,0,a.d[0],0,0,0,0,1,0,0,0,0,1];case "scalez":return[1,0,0,0,0,1,0,0,0,0,a.d[0],0,0,0,0,1];case "scale3d":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,a.d[2],0,0,0,0,1];case "skew":return c=d(a.d[0]),b=d(a.d[1]),[1,Math.tan(b),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case "skewx":return a=d(a.d[0]),[1,0,0,0,Math.tan(a),1,0,0,0,0,1,0,0,0,0,1];case "skewy":return a=d(a.d[0]),[1,Math.tan(a),0,0,0,1,0,0,0,
0,1,0,0,0,0,1];case "translate":return c=a.d[0].px||0,b=a.d[1].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,c,b,0,1];case "translatex":return c=a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,c,0,0,1];case "translatey":return b=a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,b,0,1];case "translatez":return l=a.d[0].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,l,1];case "translate3d":return c=a.d[0].px||0,b=a.d[1].px||0,l=a.d[2].px||0,[1,0,0,0,0,1,0,0,0,0,1,0,c,b,l,1];case "perspective":return[1,0,0,0,0,1,0,0,0,0,1,a.d[0].px?-1/a.d[0].px:
0,0,0,0,1];case "matrix":return[a.d[0],a.d[1],0,0,a.d[2],a.d[3],0,0,0,0,1,0,a.d[4],a.d[5],0,1];case "matrix3d":return a.d}}var l=function(){function a(a){return a[0][0]*a[1][1]*a[2][2]+a[1][0]*a[2][1]*a[0][2]+a[2][0]*a[0][1]*a[1][2]-a[0][2]*a[1][1]*a[2][0]-a[1][2]*a[2][1]*a[0][0]-a[2][2]*a[0][1]*a[1][0]}function b(a){var b=h(a);return[a[0]/b,a[1]/b,a[2]/b]}function h(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}function l(a,b,c){return[1*a[0]+c*b[0],1*a[1]+c*b[1],1*a[2]+c*b[2]]}return function(c){c=
[c.slice(0,4),c.slice(4,8),c.slice(8,12),c.slice(12,16)];if(1!==c[3][3])return null;for(var d=[],g=0;4>g;g++)d.push(c[g].slice());for(g=0;3>g;g++)d[g][3]=0;if(0===a(d))return!1;var k;k=[];if(c[0][3]||c[1][3]||c[2][3]){k.push(c[0][3]);k.push(c[1][3]);k.push(c[2][3]);k.push(c[3][3]);for(var f=1/a(d),q=d[0][0],m=d[0][1],g=d[0][2],n=d[1][0],r=d[1][1],p=d[1][2],t=d[2][0],u=d[2][1],v=d[2][2],f=[[(r*v-p*u)*f,(g*u-m*v)*f,(m*p-g*r)*f,0],[(p*t-n*v)*f,(q*v-g*t)*f,(g*n-q*p)*f,0],[(n*u-r*t)*f,(t*m-q*u)*f,(q*r-
m*n)*f,0]],q=[],m=0;3>m;m++){for(n=g=0;3>n;n++)g+=d[3][n]*f[n][m];q.push(g)}d=(q.push(1),f.push(q),f);d=[[d[0][0],d[1][0],d[2][0],d[3][0]],[d[0][1],d[1][1],d[2][1],d[3][1]],[d[0][2],d[1][2],d[2][2],d[3][2]],[d[0][3],d[1][3],d[2][3],d[3][3]]];f=[];for(q=0;4>q;q++){for(g=m=0;4>g;g++)m+=k[g]*d[g][q];f.push(m)}k=f}else k=[0,0,0,1];d=c[3].slice(0,3);f=[];f.push(c[0].slice(0,3));q=[];q.push(h(f[0]));f[0]=b(f[0]);m=[];f.push(c[1].slice(0,3));m.push(e(f[0],f[1]));f[1]=l(f[1],f[0],-m[0]);q.push(h(f[1]));f[1]=
b(f[1]);m[0]/=q[1];f.push(c[2].slice(0,3));m.push(e(f[0],f[2]));f[2]=l(f[2],f[0],-m[1]);m.push(e(f[1],f[2]));f[2]=l(f[2],f[1],-m[2]);q.push(h(f[2]));f[2]=b(f[2]);m[1]/=q[2];m[2]/=q[2];c=f[1];g=f[2];if(0>e(f[0],[c[1]*g[2]-c[2]*g[1],c[2]*g[0]-c[0]*g[2],c[0]*g[1]-c[1]*g[0]]))for(g=0;3>g;g++)q[g]*=-1,f[g][0]*=-1,f[g][1]*=-1,f[g][2]*=-1;var x,w;c=f[0][0]+f[1][1]+f[2][2]+1;return 1E-4<c?(x=.5/Math.sqrt(c),w=[(f[2][1]-f[1][2])*x,(f[0][2]-f[2][0])*x,(f[1][0]-f[0][1])*x,.25/x]):f[0][0]>f[1][1]&&f[0][0]>f[2][2]?
(x=2*Math.sqrt(1+f[0][0]-f[1][1]-f[2][2]),w=[.25*x,(f[0][1]+f[1][0])/x,(f[0][2]+f[2][0])/x,(f[2][1]-f[1][2])/x]):f[1][1]>f[2][2]?(x=2*Math.sqrt(1+f[1][1]-f[0][0]-f[2][2]),w=[(f[0][1]+f[1][0])/x,.25*x,(f[1][2]+f[2][1])/x,(f[0][2]-f[2][0])/x]):(x=2*Math.sqrt(1+f[2][2]-f[0][0]-f[1][1]),w=[(f[0][2]+f[2][0])/x,(f[1][2]+f[2][1])/x,.25*x,(f[1][0]-f[0][1])/x]),[d,q,m,w,k]}}();b.dot=e;b.makeMatrixDecomposition=function(a){return[l(0===a.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:a.map(k).reduce(m))]}})(r,null);
(function(b){function e(b,a){var c=b.exec(a);if(c)return c=b.ignoreCase?c[0].toLowerCase():c[0],[c,a.substr(c.length)]}function m(b,a){a=a.replace(/^\s*/,"");if(b=b(a))return[b[0],b[1].replace(/^\s*/,"")]}function d(b,a){for(var c=b,d=a;c&&d;)c>d?c%=d:d%=c;return b*a/(c+d)}function k(b,a,c,h,f){for(var g=[],l=[],k=[],e=d(h.length,f.length),q=0;q<e;q++){var m=a(h[q%h.length],f[q%f.length]);if(!m)return;g.push(m[0]);l.push(m[1]);k.push(m[2])}return[g,l,function(a){a=a.map(function(a,c){return k[c](a)}).join(c);
return b?b(a):a}]}b.consumeToken=e;b.consumeTrimmed=m;b.consumeRepeated=function(b,a,c){b=m.bind(null,b);for(var d=[];;){var f=b(c);if(!f||(d.push(f[0]),c=f[1],f=e(a,c),!f||""==f[1]))return[d,c];c=f[1]}};b.consumeParenthesised=function(b,a){for(var c=0,d=0;d<a.length&&(!/\s|,/.test(a[d])||0!=c);d++)if("("==a[d])c++;else if(")"==a[d]&&(c--,0==c&&d++,0>=c))break;b=b(a.substr(0,d));return void 0==b?void 0:[b,a.substr(d)]};b.ignore=function(b){return function(a){a=b(a);return a&&(a[0]=void 0),a}};b.optional=
function(b,a){return function(c){var d=b(c);return d?d:[a,c]}};b.consumeList=function(d,a){for(var c=[],h=0;h<d.length;h++){a=b.consumeTrimmed(d[h],a);if(!a||""==a[0])return;void 0!==a[0]&&c.push(a[0]);a=a[1]}if(""==a)return c};b.mergeNestedRepeated=k.bind(null,null);b.mergeWrappedNestedRepeated=k;b.mergeList=function(b,a,c){for(var d=[],f=[],g=[],l=0,k=0;k<c.length;k++)if("function"==typeof c[k]){var e=c[k](b[l],a[l++]);d.push(e[0]);f.push(e[1]);g.push(e[2])}else!function(a){d.push(!1);f.push(!1);
g.push(function(){return c[a]})}(k);return[d,f,function(a){for(var b="",c=0;c<a.length;c++)b+=g[c](a[c]);return b}]}})(r);(function(b){function e(d){var k={inset:!1,lengths:[],color:null};if((d=b.consumeRepeated(function(d){var a=b.consumeToken(/^inset/i,d);return a?(k.inset=!0,a):(a=b.consumeLengthOrPercent(d))?(k.lengths.push(a[0]),a):(a=b.consumeColor(d))?(k.color=a[0],a):void 0},/^/,d))&&d[0].length)return[k,d[1]]}var m=function(d,k,l,a){function c(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},
{px:0},{px:0},{px:0}]}}for(var h=[],f=[],g=0;g<l.length||g<a.length;g++){var e=l[g]||c(a[g].inset),q=a[g]||c(l[g].inset);h.push(e);f.push(q)}return b.mergeNestedRepeated(d,k,h,f)}.bind(null,function(d,k){for(;d.lengths.length<Math.max(d.lengths.length,k.lengths.length);)d.lengths.push({px:0});for(;k.lengths.length<Math.max(d.lengths.length,k.lengths.length);)k.lengths.push({px:0});if(d.inset==k.inset&&!!d.color==!!k.color){for(var l,a=[],c=[[],0],h=[[],0],f=0;f<d.lengths.length;f++){var g=b.mergeDimensions(d.lengths[f],
k.lengths[f],2==f);c[0].push(g[0]);h[0].push(g[1]);a.push(g[2])}d.color&&k.color&&(k=b.mergeColors(d.color,k.color),c[1]=k[0],h[1]=k[1],l=k[2]);return[c,h,function(b){for(var c=d.inset?"inset ":" ",f=0;f<a.length;f++)c+=a[f](b[0][f])+" ";return l&&(c+=l(b[1])),c}]}},", ");b.addPropertiesHandler(function(d){if((d=b.consumeRepeated(e,/^,/,d))&&""==d[1])return d[0]},m,["box-shadow","text-shadow"])})(r);(function(b){function e(b){return b.toFixed(3).replace(".000","")}function m(b,a,c){return Math.min(a,
Math.max(b,c))}function d(b){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(b))return Number(b)}function k(b){return function(a,c){return[a,c,function(a){return e(m(0,b,a))}]}}b.clamp=m;b.addPropertiesHandler(d,k(1/0),["border-image-width","line-height"]);b.addPropertiesHandler(d,k(1),["opacity","shape-image-threshold"]);b.addPropertiesHandler(d,function(b,a){if(0!=b)return k(1/0)(b,a)},["flex-grow","flex-shrink"]);b.addPropertiesHandler(d,function(b,a){return[b,a,function(a){return Math.round(m(1,1/0,a))}]},
["orphans","widows"]);b.addPropertiesHandler(d,function(b,a){return[b,a,Math.round]},["z-index"]);b.parseNumber=d;b.mergeNumbers=function(b,a){return[b,a,e]};b.numberToString=e})(r,null);(function(b){b.addPropertiesHandler(String,function(b,e){if("visible"==b||"visible"==e)return[0,1,function(d){return 0>=d?b:1<=d?e:"visible"}]},["visibility"])})(r);(function(b){function e(b){b=b.trim();k.fillStyle="#000";k.fillStyle=b;var a=k.fillStyle;if(k.fillStyle="#fff",k.fillStyle=b,a==k.fillStyle)return k.fillRect(0,
0,1,1),b=k.getImageData(0,0,1,1).data,k.clearRect(0,0,1,1),a=b[3]/255,[b[0]*a,b[1]*a,b[2]*a,a]}function m(d,a){return[d,a,function(a){if(a[3])for(var c=0;3>c;c++)a[c]=Math.round(Math.max(0,Math.min(255,a[c]/a[3])));return a[3]=b.numberToString(b.clamp(0,1,a[3])),"rgba("+a.join(",")+")"}]}var d=n.createElementNS("http://www.w3.org/1999/xhtml","canvas");d.width=d.height=1;var k=d.getContext("2d");b.addPropertiesHandler(e,m,"background-color border-bottom-color border-left-color border-right-color border-top-color color outline-color text-decoration-color".split(" "));
b.consumeColor=b.consumeParenthesised.bind(null,e);b.mergeColors=m})(r,null);(function(b){function e(a,b){if(b=b.trim().toLowerCase(),"0"==b&&0<="px".search(a))return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var c={};b=b.replace(a,function(a){return c[a]=null,"U"+a});a="U("+a.source+")";for(var d=b.replace(/[-+]?(\d*\.)?\d+/g,"N").replace(new RegExp("N"+a,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),f=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],h=0;h<f.length;)f[h].test(d)?
(d=d.replace(f[h],"$1"),h=0):h++;if("D"==d){for(var e in c){d=eval(b.replace(new RegExp("U"+e,"g"),"").replace(new RegExp(a,"g"),"*0"));if(!isFinite(d))return;c[e]=d}return c}}}function m(a,b){return d(a,b,!0)}function d(a,c,d){var f,g=[];for(f in a)g.push(f);for(f in c)0>g.indexOf(f)&&g.push(f);return a=g.map(function(b){return a[b]||0}),c=g.map(function(a){return c[a]||0}),[a,c,function(a){var c=a.map(function(c,f){return 1==a.length&&d&&(c=Math.max(c,0)),b.numberToString(c)+g[f]}).join(" + ");
return 1<a.length?"calc("+c+")":c}]}var k=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),l=e.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),a=e.bind(null,/deg|rad|grad|turn/g);b.parseLength=k;b.parseLengthOrPercent=l;b.consumeLengthOrPercent=b.consumeParenthesised.bind(null,l);b.parseAngle=a;b.mergeDimensions=d;var k=b.consumeParenthesised.bind(null,k),k=b.consumeRepeated.bind(void 0,k,/^/),c=b.consumeRepeated.bind(void 0,k,/^,/);b.consumeSizePairList=c;k=b.mergeNestedRepeated.bind(void 0,
m," ");a=b.mergeNestedRepeated.bind(void 0,k,",");b.mergeNonNegativeSizePair=k;b.addPropertiesHandler(function(a){if((a=c(a))&&""==a[1])return a[0]},a,["background-size"]);b.addPropertiesHandler(l,m,"border-bottom-width border-image-width border-left-width border-right-width border-top-width flex-basis font-size height line-height max-height max-width outline-width width".split(" "));b.addPropertiesHandler(l,d,"border-bottom-left-radius border-bottom-right-radius border-top-left-radius border-top-right-radius bottom left letter-spacing margin-bottom margin-left margin-right margin-top min-height min-width outline-offset padding-bottom padding-left padding-right padding-top perspective right shape-margin text-indent top vertical-align word-spacing".split(" "))})(r,
null);(function(b){function e(d){return b.consumeLengthOrPercent(d)||b.consumeToken(/^auto/,d)}function m(d){if((d=b.consumeList([b.ignore(b.consumeToken.bind(null,/^rect/)),b.ignore(b.consumeToken.bind(null,/^\(/)),b.consumeRepeated.bind(null,e,/^,/),b.ignore(b.consumeToken.bind(null,/^\)/))],d))&&4==d[0].length)return d[0]}var d=b.mergeWrappedNestedRepeated.bind(null,function(b){return"rect("+b+")"},function(d,e){return"auto"==d||"auto"==e?[!0,!1,function(a){a=a?d:e;if("auto"==a)return"auto";a=
b.mergeDimensions(a,a);return a[2](a[0])}]:b.mergeDimensions(d,e)},", ");b.parseBox=m;b.mergeBoxes=d;b.addPropertiesHandler(m,d,["clip"])})(r,null);(function(b){function e(b){return function(c){var d=0;return b.map(function(b){return b===a?c[d++]:b})}}function m(a){return a}function d(a){return a.toFixed(6).replace(".000000","")}function k(a,c){if(a.decompositionPair!==c){a.decompositionPair=c;var f=b.makeMatrixDecomposition(a)}if(c.decompositionPair!==a){c.decompositionPair=a;var e=b.makeMatrixDecomposition(c)}return null==
f[0]||null==e[0]?[[!1],[!0],function(b){return b?c[0].d:a[0].d}]:(f[0].push(0),e[0].push(1),[f,e,function(a){var c=b.quat(f[0][3],e[0][3],a[5]);return b.composeMatrix(a[0],a[1],a[2],c,a[4]).map(d).join(",")}])}function l(a){return a.replace(/(x|y|z|3d)?$/,"3d")}var a=null,c={px:0},h={deg:0},f={matrix:["NNNNNN",[a,a,0,0,a,a,0,0,0,0,1,0,a,a,0,1],m],matrix3d:["NNNNNNNNNNNNNNNN",m],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",e([a,a,1]),m],scalex:["N",
e([a,1,1]),e([a,1])],scaley:["N",e([1,a,1]),e([1,a])],scalez:["N",e([1,1,a])],scale3d:["NNN",m],skew:["Aa",null,m],skewx:["A",null,e([a,h])],skewy:["A",null,e([h,a])],translate:["Tt",e([a,a,c]),m],translatex:["T",e([a,c,c]),e([a,c])],translatey:["T",e([c,a,c]),e([c,a])],translatez:["L",e([c,c,a])],translate3d:["TTL",m]};b.addPropertiesHandler(function(a){if(a=a.toLowerCase().trim(),"none"==a)return[];for(var d,e=/\s*(\w+)\(([^)]*)\)/g,g=[],k=0;(d=e.exec(a))&&d.index==k;){var k=d.index+d[0].length,
l=d[1],m=f[l];if(!m)break;d=d[2].split(",");m=m[0];if(m.length<d.length)break;for(var q=[],n=0;n<m.length;n++){var r,p=d[n],t=m[n];if(r=p?{A:function(a){return"0"==a.trim()?h:b.parseAngle(a)},N:b.parseNumber,T:b.parseLengthOrPercent,L:b.parseLength}[t.toUpperCase()](p):{a:h,n:q[0],t:c}[t],void 0===r)return;q.push(r)}if(g.push({t:l,d:q}),e.lastIndex==a.length)return g}},function(a,c){var d=b.makeMatrixDecomposition&&!0,e=!1;if(!a.length||!c.length){a.length||(e=!0,a=c,c=[]);for(var h=0;h<a.length;h++){var g=
a[h].t,m=a[h].d,q="scale"==g.substr(0,5)?1:0;c.push({t:g,d:m.map(function(a){if("number"==typeof a)return q;var b={},c;for(c in a)b[c]=q;return b})})}}var m=[],n=[],r=[];if(a.length!=c.length){if(!d)return;var p=k(a,c),m=[p[0]],n=[p[1]],r=[["matrix",[p[2]]]]}else for(h=0;h<a.length;h++){var g=a[h].t,t=c[h].t,u=a[h].d,v=c[h].d,p=f[g],w=f[t];if("perspective"==g&&"perspective"==t||!("matrix"!=g&&"matrix3d"!=g||"matrix"!=t&&"matrix3d"!=t)){if(!d)return;p=k([a[h]],[c[h]]);m.push(p[0]);n.push(p[1]);r.push(["matrix",
[p[2]]])}else{if(g!=t)if(p[2]&&w[2]&&g.replace(/[xy]/,"")==t.replace(/[xy]/,""))g=g.replace(/[xy]/,""),u=p[2](u),v=w[2](v);else{if(!p[1]||!w[1]||l(g)!=l(t)){if(!d)return;p=k(a,c);m=[p[0]];n=[p[1]];r=[["matrix",[p[2]]]];break}g=l(g);u=p[1](u);v=w[1](v)}for(var w=[],t=[],B=[],A=0;A<u.length;A++)p=("number"==typeof u[A]?b.mergeNumbers:b.mergeDimensions)(u[A],v[A]),w[A]=p[0],t[A]=p[1],B.push(p[2]);m.push(w);n.push(t);r.push([g,B])}}e&&(a=m,m=n,n=a);return[m,n,function(a){return a.map(function(a,b){a=
a.map(function(a,c){return r[b][1][c](a)}).join(",");return"matrix"==r[b][0]&&16==a.split(",").length&&(r[b][0]="matrix3d"),r[b][0]+"("+a+")"}).join(" ")}]},["transform"])})(r,null);(function(b){function e(e){return e=100*Math.round(e/100),e=b.clamp(100,900,e),400===e?"normal":700===e?"bold":String(e)}b.addPropertiesHandler(function(b){b=Number(b);if(!(isNaN(b)||100>b||900<b||0!==b%100))return b},function(b,d){return[b,d,e]},["font-weight"])})(r);(function(b){function e(a){return b.consumeToken(/^(left|center|right|top|bottom)\b/i,
a)||b.consumeLengthOrPercent(a)}function m(a,c){if((c=b.consumeRepeated(e,/^/,c))&&""==c[1]&&(c=c[0],c[0]=c[0]||"center",c[1]=c[1]||"center",3==a&&(c[2]=c[2]||{px:0}),c.length==a)){if(/top|bottom/.test(c[0])||/left|right/.test(c[1]))a=c[0],c[0]=c[1],c[1]=a;if(/left|right|center|Object/.test(c[0])&&/top|bottom|center|Object/.test(c[1]))return c.map(function(a){return"object"==typeof a?a:k[a]})}}function d(a){if(a=b.consumeRepeated(e,/^/,a)){for(var c=a[0],d=[{"%":50},{"%":50}],f=0,g=!1,l=0;l<c.length;l++){var m=
c[l];if("string"==typeof m)g=/bottom|right/.test(m),f={left:0,right:0,center:f,top:1,bottom:1}[m],d[f]=k[m],"center"==m&&f++;else{if(g){var g=m,m={},q=void 0;for(q in g)m[q]=-g[q];m["%"]=(m["%"]||0)+100}d[f]=m;f++;g=!1}}return[d,a[1]]}}var k={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},l=b.mergeNestedRepeated.bind(null,b.mergeDimensions," ");b.addPropertiesHandler(m.bind(null,3),l,["transform-origin"]);b.addPropertiesHandler(m.bind(null,2),l,["perspective-origin"]);
b.consumePosition=d;b.mergeOffsetList=l;l=b.mergeNestedRepeated.bind(null,l,", ");b.addPropertiesHandler(function(a){if((a=b.consumeRepeated(d,/^,/,a))&&""==a[1])return a[0]},l,["background-position","object-position"])})(r);(function(b){var e=b.consumeParenthesised.bind(null,b.parseLengthOrPercent),m=b.consumeRepeated.bind(void 0,e,/^/),d=b.mergeNestedRepeated.bind(void 0,b.mergeDimensions," "),k=b.mergeNestedRepeated.bind(void 0,d,",");b.addPropertiesHandler(function(d){var a=b.consumeToken(/^circle/,
d);return a&&a[0]?["circle"].concat(b.consumeList([b.ignore(b.consumeToken.bind(void 0,/^\(/)),e,b.ignore(b.consumeToken.bind(void 0,/^at/)),b.consumePosition,b.ignore(b.consumeToken.bind(void 0,/^\)/))],a[1])):(a=b.consumeToken(/^ellipse/,d))&&a[0]?["ellipse"].concat(b.consumeList([b.ignore(b.consumeToken.bind(void 0,/^\(/)),m,b.ignore(b.consumeToken.bind(void 0,/^at/)),b.consumePosition,b.ignore(b.consumeToken.bind(void 0,/^\)/))],a[1])):(d=b.consumeToken(/^polygon/,d))&&d[0]?["polygon"].concat(b.consumeList([b.ignore(b.consumeToken.bind(void 0,
/^\(/)),b.optional(b.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),b.consumeSizePairList,b.ignore(b.consumeToken.bind(void 0,/^\)/))],d[1])):void 0},function(d,a){if(d[0]===a[0])return"circle"==d[0]?b.mergeList(d.slice(1),a.slice(1),["circle(",b.mergeDimensions," at ",b.mergeOffsetList,")"]):"ellipse"==d[0]?b.mergeList(d.slice(1),a.slice(1),["ellipse(",b.mergeNonNegativeSizePair," at ",b.mergeOffsetList,")"]):"polygon"==d[0]&&d[1]==a[1]?b.mergeList(d.slice(2),a.slice(2),["polygon(",
d[1],k,")"]):void 0},["shape-outside"])})(r);(function(b){function e(b,e){e.concat([b]).forEach(function(d){d in n.documentElement.style&&(m[b]=d)})}var m={};e("transform",["webkitTransform","msTransform"]);e("transformOrigin",["webkitTransformOrigin"]);e("perspective",["webkitPerspective"]);e("perspectiveOrigin",["webkitPerspectiveOrigin"]);b.propertyName=function(b){return m[b]||b}})(r,null)})();!function(){if(void 0===n.createElement("div").animate([]).oncancel){var p;p=e.performance&&performance.now?
function(){return performance.now()}:function(){return Date.now()};var r=function(b,e){this.target=b;this.currentTime=null;this.timelineTime=e;this.type="cancel";this.cancelable=this.bubbles=!1;this.currentTarget=b;this.defaultPrevented=!1;this.eventPhase=Event.AT_TARGET;this.timeStamp=Date.now()},b=e.Element.prototype.animate;e.Element.prototype.animate=function(e,m){e=b.call(this,e,m);e._cancelHandlers=[];e.oncancel=null;var d=e.cancel;e.cancel=function(){d.call(this);var a=new r(this,p()),b=this._cancelHandlers.concat(this.oncancel?
[this.oncancel]:[]);setTimeout(function(){b.forEach(function(b){b.call(a.target,a)})},0)};var k=e.addEventListener;e.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):k.call(this,a,b)};var l=e.removeEventListener;return e.removeEventListener=function(a,b){"cancel"==a?(a=this._cancelHandlers.indexOf(b),0<=a&&this._cancelHandlers.splice(a,1)):l.call(this,a,b)},e}}}();(function(p){var r=n.documentElement,b=null,q=!1;try{var m="0"==getComputedStyle(r).getPropertyValue("opacity")?
"1":"0",b=r.animate({opacity:[m,m]},{duration:1});b.currentTime=0;q=getComputedStyle(r).getPropertyValue("opacity")==m}catch(k){}finally{b&&b.cancel()}if(!q){var d=e.Element.prototype.animate;e.Element.prototype.animate=function(b,l){return e.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=p.convertToArrayForm(b)),d.call(this,b,l)}}})(u);t.true=p}({},function(){return this}())};var fa={NORMAL:"normal",REVERSE:"reverse",ALTERNATE:"alternate",ALTERNATE_REVERSE:"alternate-reverse"},ga={NONE:"none",FORWARDS:"forwards",BACKWARDS:"backwards",BOTH:"both",AUTO:"auto"},ha={opacity:!0,transform:!0,visibility:!0};var P={offset:!0,easing:!0};function Q(e){this.g=e;this.m=[]}Q.prototype.play=function(){this.m=this.g.map(function(e){return e.target.animate(e.keyframes,e.timing)})};function T(){}T.prototype.scan=function(e){var n=this;if(Array.isArray(e))e.forEach(function(e){return n.scan(e)});else if(e.animations)this.onMultiAnimation(e);else if(e.keyframes)this.onKeyframeAnimation(e);else this.onUnknownAnimation(e)};T.prototype.onMultiAnimation=function(){};T.prototype.onKeyframeAnimation=function(){};
T.prototype.onUnknownAnimation=function(){var e;if(D.dev)e=D.dev;else throw Error("failed to call initLogConstructor");throw e.createError('unknown animation type: must have "animations" or "keyframes" field');};function U(e,n,p){this.win=e;this.l=n;this.h=p;this.g=[];this.c={duration:0,delay:0,endDelay:0,iterations:1,iterationStart:0,easing:"linear",direction:"normal",fill:"none"};this.b=[];this.f=[]}y(U,T);U.prototype.createRunner=function(e){var n=this;return ia(this,e).then(function(){return new Q(n.g)})};
function ia(e,n){for(var p=[],t=0;t<e.b.length;t++){var u=e.b[t];if(u.classList.contains("-amp-element")){var r=n.getResourceForElement(u);p.push(r.loadedOnce())}}return Promise.all(p)}U.prototype.onMultiAnimation=function(e){var n=this,p=V(this,e,this.c);ja(this,p,function(){n.scan(e.animations)})};
U.prototype.onKeyframeAnimation=function(e){var n=V(this,e,this.c),p=e.target,p=E().assertElement("string"==typeof p?this.l.resolveTarget(p):p,'Target not found: "'+p+'"');-1==this.b.indexOf(p)&&this.b.push(p);var t;if("[object Object]"===F.call(e.keyframes)){var u=e.keyframes;t={};for(var r in u){W(this,r);var v=u[r],w=void 0;if(P[r])w=v;else if(Array.isArray(v)&&1!=v.length)w=X(v);else var b=Y(this,p,r),w=[b,X(Array.isArray(v)?v[0]:v)];t[r]=w}}else if(Array.isArray(e.keyframes)&&0<e.keyframes.length){r=
e.keyframes;t=[];var q=1==r.length||0<r[0].offset,m=q?{}:X(r[0]);t.push(m);for(e=q?0:1;e<r.length;e++){var d=r[e];for(v in d)P[v]||(W(this,v),m[v]||(m[v]=Y(this,p,v)));t.push(X(d))}}else if(this.h)throw E().createError("keyframes not found",e.keyframes);this.g.push({target:p,keyframes:t,timing:n})};U.prototype.onUnknownAnimation=function(e){if(this.h)throw E().createError('unknown animation type: must have "animations" or "keyframes" field');T.prototype.onUnknownAnimation.call(this,e)};
function W(e,n){P[n]||e.h&&E().assert(ha[n]||!1,"Property is not whitelisted for animation: %s",n)}function ja(e,n,p){var t=e.c;e.c=n;p();e.c=t}function Y(e,n,p){var t=e.b.indexOf(n);e.f[t]||(e.f[t]=e.win.getComputedStyle(n));n=e.f[t];N||(N=Object.create(null));var u=N[p];if(!u){u=p;if(void 0===n[p]){var r=p.charAt(0).toUpperCase()+p.slice(1);a:{for(var v=0;v<O.length;v++){var w=O[v]+r;if(void 0!==n[w]){r=w;break a}}r=""}void 0!==n[r]&&(u=r)}N[p]=u}var b=u;return e.f[t].getPropertyValue(b)}
function V(e,n,p){var t=null!=n.duration?Number(n.duration):p.duration,u=null!=n.delay?Number(n.delay):p.delay,r=null!=n.endDelay?Number(n.endDelay):p.endDelay,v=null!=n.iterations?Number(n.iterations):p.iterations,w=null!=n.iterationStart?Number(n.iterationStart):p.iterationStart,b=null!=n.easing?String(n.easing):p.easing,q=null!=n.direction?n.direction:p.direction,m=null!=n.fill?n.fill:p.fill;e.h&&(E().assert(0<=t,'"duration" is invalid: %s',n.duration),E().assert(0<=u,'"delay" is invalid: %s',
n.delay),E().assert(0<=r,'"endDelay" is invalid: %s',n.endDelay),E().assert(0<=v,'"iterations" is invalid: %s',n.iterations),E().assert(0<=w,'"iterationStart" is invalid: %s',n.iterationStart),E().assertEnumValue(fa,q,"direction"),E().assertEnumValue(ga,m,"fill"));return{duration:t,delay:u,endDelay:r,iterations:v,iterationStart:w,easing:b,direction:q,fill:m}}function X(e){return e?JSON.parse(JSON.stringify(e)):e};function Z(e){AMP.BaseElement.call(this,e);this.j=this.i=null}y(Z,AMP.BaseElement);Z.prototype.buildCallback=function(){E().assert(aa(this.win),'Experiment "amp-animation" is disabled.');var e=E().assert(K(this.element),'"<script type=application/json>" must be present');this.i=ba(e.textContent,function(e){throw E().createError("failed to parse animation script",e);})};
Z.prototype.activate=function(){var e=this,n=this.i;this.win.Element.prototype.animate||ca(this.win);var p=new U(this.win,{resolveTarget:function(n){return e.getAmpDoc().getElementById(n)}},!0),t=this.getVsync();t.measurePromise(function(){p.scan(n);return p.createRunner(e.element.getResources())}).then(function(n){e.j=n;e.j.play()})};AMP.registerElement("amp-animation",Z);
})});
//# sourceMappingURL=amp-animation-0.1.js.map

