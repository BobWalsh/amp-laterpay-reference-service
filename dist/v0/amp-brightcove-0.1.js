(self.AMP = self.AMP || []).push({n:"amp-brightcove", f:(function(AMP) {var e;function n(a,f){function h(){}h.prototype=f.prototype;a.prototype=new h;a.prototype.constructor=a;for(var g in f)if(Object.defineProperties){var b=Object.getOwnPropertyDescriptor(f,g);b&&Object.defineProperty(a,g,b)}else a[g]=f[g]};Date.now();self.log=self.log||{user:null,dev:null};var p=self.log;function q(a){var f,h,g=f||function(a){return a},b=a.dataset;a=Object.create(null);var c=h?h:/^param(.+)/,k;for(k in b){var d=k.match(c);if(d){var l=d[1][0].toLowerCase()+d[1].substr(1);a[g(l)]=b[k]}}return a};function r(a){AMP.BaseElement.call(this,a);this.a=null}n(r,AMP.BaseElement);e=r.prototype;e.preconnectCallback=function(){this.preconnect.url("https://players.brightcove.net")};e.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};e.buildCallback=function(){this.a=null};
e.layoutCallback=function(){var a;if(p.user)a=p.user;else throw Error("failed to call initLogConstructor");var f=a.assert(this.element.getAttribute("data-account"),"The data-account attribute is required for <amp-brightcove> %s",this.element),h=this.element.getAttribute("data-player")||this.element.getAttribute("data-player-id")||"default",g=this.element.getAttribute("data-embed")||"default",b=this.element.ownerDocument.createElement("iframe"),c="https://players.brightcove.net/"+encodeURIComponent(f)+
"/"+encodeURIComponent(h)+"_"+encodeURIComponent(g)+"/index.html";this.element.getAttribute("data-playlist-id")?c=c+"?playlistId="+t(this.element.getAttribute("data-playlist-id")):this.element.getAttribute("data-video-id")&&(c=c+"?videoId="+t(this.element.getAttribute("data-video-id")));a=q(this.element);var k=[],d;for(d in a){var l=a[d];if(null!=l)if(Array.isArray(l))for(var m=0;m<l.length;m++){var u=l[m];k.push(encodeURIComponent(d)+"="+encodeURIComponent(u))}else k.push(encodeURIComponent(d)+"="+
encodeURIComponent(l))}if(d=k.join("&"))a=c.split("#",2),c=a[0].split("?",2),d=c[0]+(c[1]?"?"+c[1]+"&"+d:"?"+d),c=d+=a[1]?"#"+a[1]:"";b.setAttribute("frameborder","0");b.setAttribute("allowfullscreen","true");b.src=c;this.applyFillContent(b);this.element.appendChild(b);this.a=b;return this.loadPromise(b)};function t(a){return"ref:"===a.substring(0,4)?"ref:"+encodeURIComponent(a.substring(4)):encodeURIComponent(a)}
e.pauseCallback=function(){this.a&&this.a.contentWindow&&this.a.contentWindow.postMessage("pause","https://players.brightcove.net")};e.unlayoutOnPause=function(){return!0};e.unlayoutCallback=function(){if(this.a){var a=this.a;a.parentElement&&a.parentElement.removeChild(a);this.a=null}return!0};AMP.registerElement("amp-brightcove",r);
})});
//# sourceMappingURL=amp-brightcove-0.1.js.map

