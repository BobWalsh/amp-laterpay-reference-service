{
"version":3,
"file":"http://localhost:8000/build/cc/extensions_amp-share-tracking_0.1_amp-share-tracking.js",
"lineCount":7,
"mappings":"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",
"sources":["http://localhost:8000/ [synthetic:es6/util/inherits] ","http://localhost:8000/src/log.js","http://localhost:8000/src/service.js","http://localhost:8000/src/utils/base64.js","http://localhost:8000/src/utils/bytes.js","http://localhost:8000/src/experiments.js","http://localhost:8000/extensions/amp-share-tracking/0.1/amp-share-tracking.js","http://localhost:8000/src/cookies.js","http://localhost:8000/src/layout.js","http://localhost:8000/src/viewer.js","http://localhost:8000/src/xhr.js"],
"names":["Date","now","self","log","user","dev","logs","user$$module$src$log","Error","getExistingServiceForWindow$$module$src$service","getExistingServiceForWindow","win","__AMP_TOP","exists","services","obj","getExistingServiceForDoc$$module$src$service","getExistingServiceForDoc","nodeOrDoc","ampdoc","nodeType","getService","defaultView","ownerDocument","getAmpDoc","serviceHolder","isSingleDoc","getService$$module$src$service","id","opt_factory","s","promise","resolve","undefined","base64UrlEncodeSubs","base64UrlEncodeFromBytes$$module$src$utils$base64","base64UrlEncodeFromBytes","bytes","str","String","fromCharCode","apply","btoa","replace","ch","toggles_","isExperimentOn$$module$src$experiments","isExperimentOn","TAG","toggles","Object","create","experimentId","_experimentCookie","document","cookie","e","cookieString","cookies","split","i","length","trim","eq","indexOf","COOKIE_NAME","decodeURIComponent","substring","experimentCookie","AMP_CONFIG","hasOwnProperty","Math","random","frequency","constructor","AmpShareTracking","element","vendorHref_","shareTrackingFragments_","originalViewerFragment_","$jscomp.inherits","isLayoutSupported","layout","NODISPLAY","CONTAINER","buildCallback","isExperimentOn_","Promise","reject","createError","assert","getAttribute","all","getIncomingFragment_","getOutgoingFragment_","getOutgoingFragmentFromVendor_","getShareTrackingRandomBytes_","then","results","incomingFragment","outgoingFragment","fragmentResidual","getNewViewerFragment_","substr","result","newFragment","updateFragment","getOriginalViewerFragment_","fragment","match","getFragment","vendorUrl","postReq","method","credentials","requireAmpResponseSourceOrigin","body","fetchJson","response","error","err","crypto","getRandomValues","uint8array","Uint8Array","SHARE_TRACKING_NUMBER_OF_BYTES","floor","AMP","registerElement"]
}
