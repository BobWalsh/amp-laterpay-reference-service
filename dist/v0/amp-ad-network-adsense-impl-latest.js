(self.AMP = self.AMP || []).push({n:"amp-ad-network-adsense-impl", f:(function(AMP) {var h;function t(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c]};Date.now();function aa(a){for(var b=null,d="",c=0;c<arguments.length;c++){var e=arguments[c];e instanceof Error&&!b?b=e:(d&&(d+=" "),d+=e)}b?d&&(b.message=d+": "+b.message):b=Error(d);return b}function u(a){var b=aa.apply(null,arguments);setTimeout(function(){throw b;})}self.log=self.log||{user:null,dev:null};var v=self.log;function w(){if(v.user)return v.user;throw Error("failed to call initLogConstructor");}function x(){if(v.dev)return v.dev;throw Error("failed to call initLogConstructor");};var ba=Object.prototype.toString;function y(a){return"[object Object]"===ba.call(a)};function ca(a,b){var d=Number(b||0);return a?d+a.replace(/\D/g,"")%1E6*1E6:Math.floor(4503599627370496*Math.random())};var da={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ea=/(&|<|>|"|'|`)/g;function fa(a,b,d){if(b(a))d();else{var c=a.ownerDocument.defaultView;if(c.MutationObserver){var e=new c.MutationObserver(function(){b(a)&&(e.disconnect(),d())});e.observe(a,{childList:!0})}else var f=c.setInterval(function(){b(a)&&(c.clearInterval(f),d())},5)}}function ga(a,b){fa(a.documentElement,function(){return!!a.body},b)}function ha(a){return new Promise(function(b){ga(a,b)})}
function z(a,b,d){a=a.createElement(b);for(var c in d)a.setAttribute(c,d[c]);return a}function ia(a,b){for(var d,c=a;c&&c!==d;c=c.parentElement)if(b(c))return c;return null}function ja(a){var b="A";if(a.closest)return a.closest(b);b=b.toUpperCase();return ia(a,function(a){return a.tagName==b})}function ka(a){return a?a.replace(ea,la):a}function la(a){return da[a]};function C(a,b){a=D(a);var d=a.services&&a.services[b]&&a.services[b].obj;return d}function E(a,b){var d=a;if(d.nodeType)var c=(d.ownerDocument||d).defaultView,c=D(c),d=F(c,c,"ampdoc",void 0).getAmpDoc(d);var e=d.isSingleDoc()?d.win:d;return e&&e.services&&e.services[b]&&e.services[b].obj}function ma(a){if(a.nodeType){var b=na((a.ownerDocument||a).defaultView);if(b)return b}return E(a,"url-replace")}function oa(a,b){var d=D(a);na(a);F(a,a,"url-replace",function(){return b})}
function na(a){var b=D(a);return a!=b&&a.services&&a.services["url-replace"]&&a.services["url-replace"].obj?a.services["url-replace"].obj:null}function D(a){return a.__AMP_TOP||a}function F(a,b,d,c,e){var f=G(a),g=f[d];g||(g=f[d]={obj:null,promise:null,resolve:null});g.obj||(g.obj=e?new e(b):c(b),g.resolve&&g.resolve(g.obj));return g.obj}function pa(a){var b=qa(a);if(b)return b;a=G(a);var d,c=new Promise(function(a){d=a});a.cid={obj:null,promise:c,resolve:d};return c}
function qa(a){if(a=G(a).cid){var b=a.promise;if(b)return b;if(a.obj)return a.promise=Promise.resolve(a.obj)}return null}function G(a){var b=a.services;b||(b=a.services={});return b}function ra(a){a=G(a);var b={},d;for(d in a)if(b.id=d,Object.prototype.hasOwnProperty.call(a,b.id)){var c=a[b.id];c.obj?sa(b.id,c.obj):c.promise&&c.promise.then(function(a){return function(b){return sa(a.id,b)}}(b));b={id:b.id}}}
function sa(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(d){x().error("SERVICE","failed to dispose service",a,d)}};function ta(a){var b=qa(a);return b?b:Promise.resolve().then(function(){return a.ampExtendedElements&&a.ampExtendedElements["amp-analytics"]?pa(a):ha(a.document).then(function(){return a.ampExtendedElements&&a.ampExtendedElements["amp-analytics"]?pa(a):null})})};var ua={_ping_:{renderStartImplemented:!0},a9:{prefetch:"https://c.amazon-adsystem.com/aax2/assoc.js"},accesstrade:{prefetch:"https://h.accesstrade.net/js/amp/amp.js"},adblade:{prefetch:"https://web.adblade.com/js/ads/async/show.js",preconnect:["https://staticd.cdn.adblade.com","https://static.adblade.com"],renderStartImplemented:!0},adbutler:{prefetch:"https://servedbyadbutler.com/app.js"},adform:{},adgeneration:{prefetch:"https://i.socdm.com/sdk/js/adg-script-loader.js"},adition:{},adman:{},adreactor:{},
adsense:{prefetch:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",preconnect:"https://googleads.g.doubleclick.net",clientIdScope:"AMP_ECID_GOOGLE"},adsnative:{prefetch:"https://static.adsnative.com/static/js/render.v1.js",preconnect:"https://api.adsnative.com"},adspirit:{},adstir:{prefetch:"https://js.ad-stir.com/js/adstir_async.js",preconnect:"https://ad.ad-stir.com"},adtech:{prefetch:"https://s.aolcdn.com/os/ads/adsWrapper3.js",preconnect:["https://mads.at.atwola.com","https://aka-cdn.adtechus.com"]},
aduptech:{prefetch:"https://s.d.adup-tech.com/jsapi"},adverline:{prefetch:"https://ads.adverline.com/richmedias/amp.js",preconnect:["https://adnext.fr"],renderStartImplemented:!0},advertserve:{renderStartImplemented:!0},affiliateb:{prefetch:"https://track.affiliate-b.com/amp/a.js",renderStartImplemented:!0},amoad:{prefetch:["https://j.amoad.com/js/a.js","https://j.amoad.com/js/n.js"],preconnect:["https://d.amoad.com","https://i.amoad.com","https://m.amoad.com","https://v.amoad.com"]},appnexus:{prefetch:"https://acdn.adnxs.com/ast/ast.js",
preconnect:"https://ib.adnxs.com"},atomx:{prefetch:"https://s.ato.mx/p.js"},caprofitx:{prefetch:["https://cdn.caprofitx.com/pfx.min.js","https://cdn.caprofitx.com/tags/amp/profitx_amp.js"],preconnect:"https://ad.caprofitx.adtdp.com"},chargeads:{},colombia:{prefetch:"https://static.clmbtech.com/ad/commons/js/colombia-amp.js"},contentad:{},criteo:{prefetch:"https://static.criteo.net/js/ld/publishertag.js",preconnect:"https://cas.criteo.com"},dotandads:{prefetch:"https://amp.ad.dotandad.com/dotandadsAmp.js",
preconnect:"https://bal.ad.dotandad.com"},doubleclick:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://securepubads.g.doubleclick.net/static/glade.js"],preconnect:["https://partner.googleadservices.com","https://tpc.googlesyndication.com"],clientIdScope:"AMP_ECID_GOOGLE",renderStartImplemented:!0},eplanning:{prefetch:"https://us.img.e-planning.net/layers/epl-amp.js"},ezoic:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://g.ezoic.net/ezoic/ampad.js"]},f1e:{prefetch:"https://img.ak.impact-ad.jp/util/f1e_amp.min.js"},
fake:{},felmat:{prefetch:"https://t.felmat.net/js/fmamp.js",renderStartImplemented:!0},flite:{},genieessp:{prefetch:"https://js.gsspcln.jp/l/amp.js"},gmossp:{prefetch:"https://cdn.gmossp-sp.jp/ads/amp.js"},holder:{prefetch:"https://i.holder.com.ua/js2/holder/ajax/ampv1.js",preconnect:"https://h.holder.com.ua",renderStartImplemented:!0},ibillboard:{},imobile:{prefetch:"https://spamp.i-mobile.co.jp/script/amp.js",preconnect:"https://spad.i-mobile.co.jp"},improvedigital:{},industrybrains:{prefetch:"https://web.industrybrains.com/js/ads/async/show.js",
preconnect:["https://staticd.cdn.industrybrains.com","https://static.industrybrains.com"],renderStartImplemented:!0},inmobi:{prefetch:"https://cf.cdn.inmobi.com/ad/inmobi.secure.js",renderStartImplemented:!0},ix:{prefetch:"https://js-sec.indexww.com/indexJTag.js",preconnect:"https://as-sec.casalemedia.com"},kargo:{},kixer:{prefetch:"https://cdn.kixer.com/ad/load.js",renderStartImplemented:!0},ligatus:{},loka:{prefetch:"https://loka-cdn.akamaized.net/scene/amp.js",preconnect:["https://scene-front.lokaplatform.com",
"https://loka-materials.akamaized.net"],renderStartImplemented:!0},mads:{prefetch:"https://eu2.madsone.com/js/tags.js"},"mantis-display":{prefetch:"https://assets.mantisadnetwork.com/mantodea.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://res.cloudinary.com","https://resize.mantisadnetwork.com"]},"mantis-recommend":{prefetch:"https://assets.mantisadnetwork.com/recommend.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://resize.mantisadnetwork.com"]},mediaimpact:{prefetch:"https://ec-ns.sascdn.com/diff/251/pages/amp_default.js",
preconnect:["https://ww251.smartadserver.com","https://static.sascdn.com/"],renderStartImplemented:!0},medianet:{preconnect:"https://contextual.media.net",renderStartImplemented:!0},mediavine:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},meg:{renderStartImplemented:!0},microad:{prefetch:"https://j.microad.net/js/camp.js",preconnect:["https://s-rtb.send.microad.jp",
"https://s-rtb.send.microadinc.com","https://cache.send.microad.jp","https://cache.send.microadinc.com","https://deb.send.microad.jp"]},mixpo:{prefetch:"https://cdn.mixpo.com/js/loader.js",preconnect:["https://player1.mixpo.com","https://player2.mixpo.com"]},nativo:{prefetch:"https://s.ntv.io/serve/load.js"},nend:{prefetch:"https://js1.nend.net/js/amp.js",preconnect:["https://output.nend.net","https://img1.nend.net"]},nokta:{prefetch:"https://static.virgul.com/theme/mockups/noktaamp/ampjs.js",renderStartImplemented:!0},
openadstream:{},openx:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"]},plista:{},pubmatic:{prefetch:"https://ads.pubmatic.com/AdServer/js/amp.js"},pubmine:{prefetch:["https://s.pubmine.com/head.js","https://s.pubmine.com/showad.js"],preconnect:"https://delivery.g.switchadhub.com",renderStartImplemented:!0},pulsepoint:{prefetch:"https://ads.contextweb.com/TagPublish/getjs.static.js",
preconnect:"https://tag.contextweb.com"},purch:{prefetch:"https://ramp.purch.com/serve/creative_amp.js",renderStartImplemented:!0},revcontent:{prefetch:"https://labs-cdn.revcontent.com/build/amphtml/revcontent.amp.min.js",preconnect:["https://trends.revcontent.com","https://cdn.revcontent.com","https://img.revcontent.com"]},rubicon:{},sharethrough:{renderStartImplemented:!0},smartadserver:{prefetch:"https://ec-ns.sascdn.com/diff/js/amp.v0.js",preconnect:"https://static.sascdn.com",renderStartImplemented:!0},
smartclip:{prefetch:"https://cdn.smartclip.net/amp/amp.v0.js",preconnect:"https://des.smartclip.net",renderStartImplemented:!0},sortable:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://tags-cdn.deployads.com","https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"]},sovrn:{prefetch:"https://ap.lijit.com/www/sovrn_amp/sovrn_ads.js"},taboola:{},teads:{prefetch:"https://cdn.teads.tv/media/format/v3/teads-format.min.js",
preconnect:["https://cdn2.teads.tv","https://a.teads.tv","https://t.teads.tv"]},triplelift:{},webediads:{prefetch:"https://eu1.wbdds.com/amp.min.js",preconnect:["https://goutee.top","https://mediaathay.org.uk"],renderStartImplemented:!0},"weborama-display":{prefetch:["https://cstatic.weborama.fr/js/advertiserv2/adperf_launch_1.0.0_scrambled.js","https://cstatic.weborama.fr/js/advertiserv2/adperf_core_1.0.0_scrambled.js"]},widespace:{},xlift:{prefetch:"https://cdn.x-lift.jp/resources/common/xlift_amp.js",
renderStartImplemented:!0},yahoo:{prefetch:"https://s.yimg.com/os/ampad/display.js",preconnect:"https://us.adserver.yahoo.com"},yahoojp:{prefetch:["https://s.yimg.jp/images/listing/tool/yads/ydn/amp/amp.js","https://yads.c.yimg.jp/js/yads.js"],preconnect:"https://yads.yahoo.co.jp"},yieldbot:{prefetch:["https://cdn.yldbt.com/js/yieldbot.intent.amp.js","https://msg.yldbt.com/js/ybmsg.html"],preconnect:"https://i.yldbt.com"},yieldmo:{prefetch:"https://static.yieldmo.com/ym.amp1.js",preconnect:["https://s.yieldmo.com",
"https://ads.yieldmo.com"],renderStartImplemented:!0},yieldone:{prefetch:"https://img.ak.impact-ad.jp/ic/pone/commonjs/yone-amp.js"},zedo:{prefetch:"https://ss3.zedo.com/gecko/tag/Gecko.amp.min.js",renderStartImplemented:!0},zergnet:{},zucks:{preconnect:["https://j.zucks.net.zimg.jp","https://sh.zucks.net","https://k.zucks.net","https://static.zucks.net.zimg.jp"]}};function va(a){var b=ua[a.element.getAttribute("type")],d=b?b.clientIdScope:null;if(!d)return Promise.resolve();var c=ta(a.win).then(function(a){if(a)return a.get(d,Promise.resolve()).catch(function(a){x().error("AD-CID",a)})});return C(a.win,"timer").timeoutPromise(1E3,c,"cid timeout").catch(function(a){x().warn("AD-CID",a)})};function H(a){return E(a,"documentInfo").get()};function wa(a){var b="-dev",d=a.length-b.length;0<=d&&a.indexOf(b,d)};var xa=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org/,ya=/^https?:\/\/localhost(:\d+)?$/;var I,J;
function K(a,b){I||(I=self.document.createElement("a"),J=self.UrlCache||(self.UrlCache=Object.create(null)));var d=J[a];if(d)return d;I.href=a;I.protocol||(I.href=I.href);var c={href:I.href,protocol:I.protocol,host:I.host,hostname:I.hostname,port:"0"==I.port?"":I.port,pathname:I.pathname,search:I.search,hash:I.hash,origin:null};"/"!==c.pathname[0]&&(c.pathname="/"+c.pathname);if("http:"==c.protocol&&80==c.port||"https:"==c.protocol&&443==c.port)c.port="",c.host=c.hostname;c.origin=I.origin&&"null"!=
I.origin?I.origin:"data:"!=c.protocol&&c.host?c.protocol+"//"+c.host:c.href;var e=c;return b?e:J[a]=e}function za(a){var b=Object.create(null);if(!a)return b;if(0==a.indexOf("?")||0==a.indexOf("#"))a=a.substr(1);a=a.split("&");for(var d=0;d<a.length;d++){var c=a[d],e=c.indexOf("="),f;-1!=e?(f=decodeURIComponent(c.substring(0,e)).trim(),c=decodeURIComponent(c.substring(e+1)).trim()):(f=decodeURIComponent(c).trim(),c="");f&&(b[f]=c)}return b}
function L(a){"string"==typeof a&&(a=K(a));return xa.test(a.origin)};function Aa(a){return"undefined"!==typeof TextDecoder?Promise.resolve((new TextDecoder("utf-8")).decode(a)):new Promise(function(b,d){var c=new FileReader;c.onerror=function(){d(c.error)};c.onloadend=function(){b(c.result)};c.readAsText(new Blob([a]))})}
function Ba(a){return"undefined"!==typeof TextEncoder?Promise.resolve((new TextEncoder("utf-8")).encode(a)):new Promise(function(b,d){var c=new FileReader;c.onerror=function(){d(c.error)};c.onloadend=function(){b(new Uint8Array(c.result))};c.readAsArrayBuffer(new Blob([a]))})}function Ca(a){for(var b=new Uint8Array(a.length),d=0;d<a.length;d++){var c=a.charCodeAt(d);b[d]=c}return b};var Da={"-":"+",_:"/",".":"="};function M(a){var b=atob(a.replace(/[-_.]/g,function(a){return Da[a]}));return Ca(b)};function Ea(a){for(var b=a.length,d=5381,c=0;c<b;c++)d=33*d^a.charCodeAt(c);return String(d>>>0)};function Fa(a){for(var b=[],d=0;a&&1==a.nodeType&&25>d;){var c="";a.id&&(c="/"+a.id);var e=a.nodeName.toLowerCase();b.push(""+e+c+Ga(a));d++;a=a.parentElement}return b.join()}function Ga(a){for(var b=a.nodeName,d=0,c=0,e=a.previousElementSibling;e&&25>c&&100>d;)e.nodeName==b&&c++,d++,e=e.previousElementSibling;return 25>c&&100>d?"."+c:""};function Ha(a,b){var d=a.crypto&&(a.crypto.subtle||a.crypto.webkitSubtle),c=b.dataset&&b.dataset.multiSize;return d&&!c&&(L(a.location)||!1||!1)}
function Ia(a,b,d){var c=[],e=E(a.getAmpDoc(),"viewer").getReferrerUrl();return va(a).then(function(f){return e.then(function(e){var g=a,k=c,n=e,l=g.win,q=H(g.element);l.gaGlobal||(l.gaGlobal={vid:f,hid:q.pageViewId});for(var r=g.getIntersectionElementLayoutBox(),A=g.getViewport().getRect(),p=l,B=0;p!=p.parent;)p=p.parent,B++;p={name:"dtd"};g=g.element;k=d.concat([{name:"is_amp",value:"3"},{name:"amp_v",value:"1480695002348"},{name:"d_imp",value:"1"},{name:"dt",value:b},{name:"adf",value:Ea(Fa(g))},
{name:"c",value:ca(f,q.pageViewId)},{name:"output",value:"html"},{name:"nhd",value:B},{name:"eid",value:g.getAttribute("data-experiment-id")},{name:"biw",value:A.width},{name:"bih",value:A.height},{name:"adx",value:r.left},{name:"ady",value:r.top},{name:"u_hist",value:Ja(l)},p],k,[{name:"url",value:q.canonicalUrl},{name:"top",value:B?Ka(l):null},{name:"loc",value:l.location.href==q.canonicalUrl?null:l.location.href},{name:"ref",value:n}]);n=Date.now()-b;p.value=1E6<=n?"M":0<=n?n:"-M";l={name:"trunc",
value:"1"};n=[];l=l&&null!=l.value&&""!==l.value?encodeURIComponent(l.name)+"="+encodeURIComponent(String(l.value)):null;r=4050;l&&(r-=l.length+1);for(A=0;A<k.length;A++)if(p=k[A],null!=p.value&&""!==p.value){q=encodeURIComponent(p.name)+"=";p=encodeURIComponent(String(p.value));g=q.length+p.length+1;if(g>r){(k=p.substr(0,r-q.length-1).replace(/%\w?$/,""))&&n.push(q+k);l&&n.push(l);break}n.push(q+p);r-=g}return n.length?"https://googleads.g.doubleclick.net/pagead/ads?"+n.join("&"):"https://googleads.g.doubleclick.net/pagead/ads"})})}
function Ja(a){try{return a.history.length}catch(b){return 0}}function Ka(a){var b=a.location.ancestorOrigins;if(b){var d=a.location.origin,c=b[b.length-1];if(d==c)return a.top.location.href;var e=La(a);return e==a||d==b[b.length-2]?e.document.referrer:c}try{return a.top.location.href}catch(f){}a=La(a);try{return a.document.referrer}catch(f){}return null}function La(a){for(;a.parent!=a.parent.parent;)a=a.parent;return a}
function Ma(a,b){a.ampAdPageCorrelator||(a.ampAdPageCorrelator=ca(b,H(a.document).pageViewId));return a.ampAdPageCorrelator};var N;function O(a,b){var d=N||(N=Object.create(null));if(b in d)a=d[b];else{var c=b;a=-1!=Na(a).indexOf(c)?!0:a.AMP_CONFIG&&a.AMP_CONFIG.hasOwnProperty(c)?Math.random()<a.AMP_CONFIG[c]:!1;a=d[b]=a}return a}
function Na(a){if(a._experimentCookie)return a._experimentCookie;var b;a:{b:{try{b=a.document.cookie;break b}catch(g){}b=void 0}if(b){b=b.split(";");for(var d=0;d<b.length;d++){var c=b[d].trim(),e=c.indexOf("=");if(-1!=e&&"AMP_EXP"==decodeURIComponent(c.substring(0,e).trim())){b=decodeURIComponent(c.substring(e+1).trim());break a}}}b=null}var f=b;return a._experimentCookie=f?f.split(/\s*,\s*/g):[]};function Oa(a,b,d,c,e){if(Ha(a,b)){var f=d,g=c.control,m=c.experiment,k=E(b,"viewer").getParam("exp")||za(a.location.search).exp;if(k&&(k=(k=/(^|,)(a4a:[^,]*)/.exec(k))&&k[2])){var n=k.split(":",2)[1],g={"-1":"117152632",0:null,1:g,2:m};if(g.hasOwnProperty(n)){g=g[n];a.pageExperimentBranches=a.pageExperimentBranches||{};var l=!!g,m=N||(N=Object.create(null)),k=Na(a),n=-1!=k.indexOf(f)||f in m&&m[f],l=void 0!==l?l:!n;l!=n&&(l?(k.push(f),m[f]=!0):(k.splice(k.indexOf(f),1),m[f]=!1));a.pageExperimentBranches[f]=
g}else x().warn("A4A-CONFIG","Unknown a4a URL parameter: ",k," expected one of -1 (manual), 0 (not in experiment), 1 (control branch), or 2 (a4a experiment branch)")}var q={};q[d]=e;Pa(a,q);if(O(a,d)){var r=a.pageExperimentBranches[d];a=r;(f=b.getAttribute("data-experiment-id"))&&Qa(Ra(f))?b.setAttribute("data-experiment-id",Sa(a,f)):b.setAttribute("data-experiment-id",a);return r==e.experiment||r==c.experiment||"117152632"==r}}return!1}
function Pa(a,b){a.pageExperimentBranches=a.pageExperimentBranches||{};for(var d in b)if(b.hasOwnProperty(d)&&!a.pageExperimentBranches.hasOwnProperty(d)&&!a.pageExperimentBranches[d]&&O(a,d)){var c=b[d],e=Object.keys(c),f=e[Math.floor(Math.random()*e.length)];a.pageExperimentBranches[d]=c[f]}}function Ra(a){return a?a.split(","):[]}function P(a){return Ra(a.getAttribute("data-experiment-id")).some(function(a){return"117152632"===a})}
function Qa(a){return a.every(function(a){return!isNaN(parseInt(a,10))})}function Sa(a,b){return a&&!isNaN(parseInt(a,10))?b?b+","+a:a:b||""};var Ta={control:"117152650",experiment:"117152651"},Ua={control:"117152670",experiment:"117152671"};var Va={control:"117152660",experiment:"117152661"},Wa={control:"117152680",experiment:"117152681"};(function(a){var b=Object.create(null);a&&Object.assign(b,a);return b})({adsense:function(a,b){return Oa(a,b,"expAdsenseA4A",Ta,Ua)},doubleclick:function(a,b){if(a.document.querySelector("meta[name=amp-3p-iframe-src]"))return!1;var d=b.hasAttribute("data-use-beta-a4a-implementation"),c=Oa(a,b,"expDoubleclickA4A",Va,Wa)||d&&(L(a.location)||!1||!1);c&&d&&!P(b)&&b.setAttribute("data-experiment-id","2077831");return c}});var Xa={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json"};function Ya(a,b){if(!(a.defaultPrevented||0!=a.buttons&&1!=a.buttons||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)){var d=Za(a);if(d&&d.eventualUrl&&!1!==a.isTrusted){var c=encodeURIComponent,e,f=d.a.href;e=encodeURIComponent("amp")+"="+encodeURIComponent("1");if(e){var f=f.split("#",2),g=f[0].split("?",2);e=g[0]+(g[1]?"?"+e+"&"+g[1]:"?"+e);e+=f[1]?"#"+f[1]:""}else e=f;var m="click="+c(e);e=d.eventualUrl;e=-1==d.eventualUrl.indexOf("#")?e+("#"+m):e+("&"+m);c=d.a.ownerDocument.defaultView;(f=c.location.ancestorOrigins)&&
"http://localhost:8000"==f[f.length-1]&&(e=e.replace(K(d.eventualUrl).host+"/c/","http://localhost:8000/max/"));a.preventDefault();if(b)b(e);else{a=e;e=(d.a.target||"_top").toLowerCase();if(c.location.ancestorOrigins)if(f=c.location.ancestorOrigins,2>f.length||-1==f[f.length-1].indexOf(".google."))f=null;else{var g=f[f.length-2],k;(k=L(g))||(k=g,"string"==typeof k&&(k=K(k)),k=ya.test(k.origin));if(k){k=c;for(var n=0;n<f.length-1;n++)k=k.parent;f={win:k,origin:g}}else f=null}else f=null;if(f)f.win.postMessage("a2a;"+
JSON.stringify({url:a}),f.origin);else{var l;try{l=c.open(a,e,void 0)}catch(q){x().error("DOM","Failed to open url on target: ",e,q)}l||"_top"==e||c.open(a,"_top")}}}}}function Za(a){var b=ia(a.target,function(a){return"A"==a.tagName&&a.href});if(b)return{eventualUrl:$a(b),a:b}}function $a(a){var b=a.getAttribute("data-url-param-name")||"adurl",d=za(a.search)[b];if(a=d)if(a=L(d))a=K(d).pathname,a=3>a.length?!1:0==a.lastIndexOf("/c/",0);if(a)return d};function Q(a,b,d){function c(a){d(a);e()}var e;e=function(){a&&a.removeEventListener(b,c,!1);d=c=a=null};a.addEventListener(b,c,!1);return e}function ab(a){var b,d;if(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)return Promise.resolve(a);var c=new Promise(function(c,f){var e=a.tagName;b="AUDIO"===e||"VIDEO"===e?Q(a,"loadstart",c):Q(a,"load",c);e&&(d=Q(a,"error",f))}),c=c.then(function(){return a},bb);return cb(c,b,d)}
function bb(a){(a=a.target)&&a.src&&(a=a.src);throw w().createError("Failed to load:",a);}function cb(a,b,d){var c=void 0,e;e=void 0===c?a:C(self,"timer").timeoutPromise(c||0,a);b&&e.then(b,b);d&&e.then(d,d);return e};function R(){this.o=[]}h=R.prototype;h.add=function(a){var b=this;this.o.push(a);return function(){b.remove(a)}};h.remove=function(a){a=this.o.indexOf(a);-1<a&&this.o.splice(a,1)};h.removeAll=function(){this.o.length=0};h.fire=function(a){for(var b=this.o,d=0;d<b.length;d++)(0,b[d])(a)};h.getHandlerCount=function(){return this.o.length};var S,db="Webkit webkit Moz moz ms O o".split(" ");function T(a,b,d){S||(S=Object.create(null));var c=S[b];if(!c||d){c=b;if(void 0===a[b]){var e=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var f=0;f<db.length;f++){var g=db[f]+e;if(void 0!==a[g]){e=g;break a}}e=""}var m=e;void 0!==a[m]&&(c=m)}d||(S[b]=c)}return c}function U(a,b,d){var c;(b=T(a.style,b,void 0))&&(a.style[b]=c?d+c:d)};function eb(a){this.win=a;this.g=a.document;this.j=T(this.g,"hidden",!0);void 0===this.g[this.j]&&(this.j=null);this.J=T(this.g,"visibilityState",!0);void 0===this.g[this.J]&&(this.J=null);this.S=new R;this.s=null;if(this.j){this.s="visibilitychange";var b=this.j.indexOf("Hidden");-1!=b&&(this.s=this.j.substring(0,b)+"Visibilitychange")}this.N=this.$.bind(this);this.s&&this.g.addEventListener(this.s,this.N);this.l=null}h=eb.prototype;h.aa=function(){this.s&&this.g.removeEventListener(this.s,this.N)};
h.isHidden=function(){return this.j?this.g[this.j]:!1};h.getVisibilityState=function(){return this.J?this.g[this.J]:this.isHidden()?"hidden":"visible"};h.onVisibilityChanged=function(a){return this.S.add(a)};h.$=function(){this.S.fire()};h.onBodyAvailable=function(a){var b=this.g;if(b.body)return a(),null;this.l||(this.l=new R,fa(b.documentElement,function(){return!!b.body},this.Z.bind(this)));return this.l.add(a)};h.Z=function(){this.l.fire();this.l.removeAll();this.l=null};self.AMPErrors=self.AMPErrors||[];function fb(a){return"complete"==a.readyState}function gb(a,b){var d=fb,c=d(a);if(c)b(a);else{var e=function(){d(a)&&(c||(c=!0,b(a)),a.removeEventListener("readystatechange",e))};a.addEventListener("readystatechange",e)}}function hb(a){return new Promise(function(b){gb(a,b)})};var ib;
function jb(a,b,d,c){var e=D(a.ownerDocument.defaultView),f=C(e,"extensions");U(a,"visibility","hidden");a.setAttribute("referrerpolicy","unsafe-url");d.extensionIds&&d.extensionIds.forEach(function(a){return f.loadExtension(a)});var g=kb(d);a.onload=function(){a.readyState="complete"};var m;void 0===ib&&(ib="srcdoc"in HTMLIFrameElement.prototype);if(ib)a.srcdoc=g,m=ab(a),b.appendChild(a);else{a.src="about:blank";b.appendChild(a);var k=a.contentWindow.document;k.open();k.write(g);m=ab(a.contentWindow);k.close()}var n;
n=lb(a)?Promise.resolve():new Promise(function(b){var c=e.setInterval(function(){lb(a)&&(b(),e.clearInterval(c))},5);m.catch(function(a){u(a)}).then(function(){b();e.clearInterval(c)})});return n.then(function(){var b=a.contentWindow;f.installExtensionsInChildWindow(b,d.extensionIds||[],c);U(a,"visibility","");if(b.document&&b.document.body){var b=b.document.body,e={opacity:1,visibility:"visible",animation:"none"},g;for(g in e)U(b,g,e[g])}return new mb(a,d,m)})}
function lb(a){a=a.contentWindow&&a.contentWindow.document;return!!(a&&"loading"!=a.readyState&&"uninitialized"!=a.readyState&&a.body&&a.body.firstChild)}
function kb(a){var b=a.html,d=b.toUpperCase(),c=d.indexOf("<HEAD");-1!=c&&(c=d.indexOf(">",c+1)+1);-1==c&&(c=d.indexOf("<BODY"));-1==c&&(c=d.indexOf("<HTML"),-1!=c&&(c=d.indexOf(">",c+1)+1));var e=[];0<c&&e.push(b.substring(0,c));e.push('<base href="'+ka(a.url)+'">');a.fonts&&a.fonts.forEach(function(a){e.push('<link href="'+ka(a)+'" rel="stylesheet" type="text/css">')});0<c?e.push(b.substring(c)):e.push(b);return e.join("")}
function mb(a,b,d){this.iframe=a;this.win=a.contentWindow;this.spec=b;this.X=d}mb.prototype.whenLoaded=function(){return this.X};mb.prototype.destroy=function(){E(this.iframe,"resources").removeForChildWindow(this.win);ra(this.win)};var nb={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0};function ob(a,b){var d=!1,c=0;do nb[a.tagName]?(c++,d=!1):"fixed"==b.getComputedStyle(a).position&&(d=!0),a=a.parentElement;while(a&&"BODY"!=a.tagName);return!d&&1>=c};function pb(a){var b;b=void 0===b?1:b;return new Promise(function(d,c){function e(a){k.length<=g&&k.push(a);k.length>g&&c(k)}function f(a){m.length<b&&m.push(a);m.length==b&&d(m)}b=Math.max(b,0);var g=a.length-b;0>g&&c(Error("not enough promises to resolve"));0==a.length&&d([]);for(var m=[],k=[],n=0;n<a.length;n++)Promise.resolve(a[n]).then(f,e)})};function qb(a){this.b=a;this.state=0;this.O=!!a.getFallback()}qb.prototype.init=function(){if(O(this.b.win,"amp-ad-loading-ux")&&!this.O){var a=z(document,"div",{fallback:""});a.classList.add("amp-ad-default-fallback");this.b.element.appendChild(a)}};
qb.prototype.setDisplayState=function(a){if(0!=this.state||1==a)switch(a){case 1:this.state=1;this.b.togglePlaceholder(!0);break;case 2:this.state=2;this.b.togglePlaceholder(!1);break;case 3:rb(this);break;case 0:sb(this);break;default:x().error("AmpAdUIHandler","state is not supported")}};
function rb(a){a.O?a.b.deferMutate(function(){0!=a.state&&(a.b.togglePlaceholder(!1),a.b.toggleFallback(!0),a.state=3)}):a.b.attemptChangeHeight(0).then(function(){a.b.collapse();a.state=3},function(){a.b.togglePlaceholder(!1);a.b.toggleFallback(!0);a.state=3})}function sb(a){a.state=0;a.b.deferMutate(function(){0==a.state&&(a.b.togglePlaceholder(!0),a.b.toggleFallback(!1))})}AMP.AmpAdUIHandler=qb;function tb(a,b,d){var c=ub(a,b,d);return""===c?hb(a.document).then(function(){return ub(a,b,d)}):Promise.resolve(c)}function ub(a,b,d){var c=a.performance&&a.performance.timing;if(c&&0!=c.navigationStart&&(a=void 0===d?c[b]:c[d]-c[b],"number"===typeof a&&isFinite(a)))return 0>a?"":a}function vb(a,b){var d=a.performance&&a.performance.navigation;if(d&&void 0!==d[b])return d[b]}function wb(){this.w=void 0;this.c=Object.create(null);this.D=!1}h=wb.prototype;h.initialize=function(){};
h.get=function(a){this.D||(this.initialize(),this.D=!0);return this.c[a]};h.set=function(a,b){a.indexOf("RETURN");this.c[a]=this.c[a]||{sync:void 0,async:void 0};this.c[a].sync=b;this.w=void 0;return this};h.setAsync=function(a,b){a.indexOf("RETURN");this.c[a]=this.c[a]||{sync:void 0,async:void 0};this.c[a].async=b;this.w=void 0;return this};h.setBoth=function(a,b,d){return this.set(a,b).setAsync(a,d)};
h.getExpr=function(a){var b=this;this.D||(this.initialize(),this.D=!0);var d=a?Object.keys(a):null;if(d&&0<d.length){var c=Object.keys(this.c);d.forEach(function(a){void 0===b.c[a]&&c.push(a)});return xb(c)}this.w||(this.w=xb(Object.keys(this.c)));return this.w};function xb(a){a.sort(function(a,b){return b.length-a.length});var b=a.join("|");return new RegExp("\\$?("+b+")(?:\\(([0-9a-zA-Z-_.,]+)\\))?","g")};var yb="RANDOM COUNTER CANONICAL_URL CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH DOCUMENT_REFERRER TITLE AMPDOC_URL AMPDOC_HOST AMPDOC_HOSTNAME SOURCE_URL SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH PAGE_VIEW_ID CLIENT_ID VARIANT VARIANTS SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING TIMESTAMP TIMEZONE SCROLL_TOP SCROLL_LEFT SCROLL_HEIGHT SCROLL_WIDTH VIEWPORT_HEIGHT VIEWPORT_WIDTH SCREEN_WIDTH SCREEN_HEIGHT AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH SCREEN_COLOR_DEPTH DOCUMENT_CHARSET BROWSER_LANGUAGE VIEWER TOTAL_ENGAGED_TIME AMP_VERSION".split(" ");
function zb(a,b){wb.call(this);this.V=ma(a).getVariableSource();this.A=b}t(zb,wb);
zb.prototype.initialize=function(){var a=this;this.set("AD_NAV_TIMING",function(b,c){w().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return ub(a.A,b,c)}).setAsync("AD_NAV_TIMING",function(b,c){w().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return tb(a.A,b,c)});this.set("AD_NAV_TYPE",function(){return vb(a.A,"type")});this.set("AD_NAV_REDIRECT_COUNT",function(){return vb(a.A,"redirectCount")});for(var b=0;b<yb.length;b++){var d=
yb[b],c=this.V.get(d);this.set(d,c.sync).setAsync(d,c.async)}};function Ab(a){var b=a["3pla"];b||(b={},a["3pla"]=b);var d=C(a,"timer").delay(function(){C(a,"timer").cancel(d);var b=a["3pla"];b&&delete b[d]},1E3);b[d]=1};var Bb=window.crypto&&"webkitSubtle"in window.crypto,V=Bb?window.crypto.webkitSubtle:window.crypto.subtle;
function Cb(a){return(Bb?Ba(JSON.stringify(a)):Promise.resolve(a)).then(function(a){return V.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}).then(function(b){if("string"!=typeof a.n||"string"!=typeof a.e)throw Error("missing fields in JSON Web Key");var d=M(a.n),c=M(a.e),e=Db(d),f=Db(c),g=new Uint8Array(e.length+f.length);g.set(e);g.set(f,e.length);return V.digest({name:"SHA-1"},g).then(function(a){return{cryptoKey:b,hash:new Uint8Array(a,0,4)}})})}
function Eb(a,b,d){var c;if(c=5<b.length&&0==b[0])a:if(c=d.hash,b&&c){for(var e=0;4>e;e++)if(b[e+1]!==c[e]){c=!1;break a}c=!0}else c=!1;if(!c)return Promise.resolve(!1);var f=new Uint8Array(a.length+1);f.set(a);f[a.length]=0;return V.verify({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},d.cryptoKey,b.subarray(5),f)}function Db(a){var b=new Uint8Array(4+a.length);b[0]=a.length>>24&255;b[1]=a.length>>16&255;b[2]=a.length>>8&255;b[3]=a.length&255;b.set(a,4);return b};function Fb(a,b){this.ampdoc=a;this.M=b}h=Fb.prototype;h.expandSync=function(a,b,d,c){return this.expandUrlSync(a,b,d,c)};h.expandAsync=function(a,b){return this.expandUrlAsync(a,b)};h.expandStringSync=function(a,b,d,c){return W(this,a,b,d,!0,c)};h.expandStringAsync=function(a,b){return W(this,a,b)};h.expandUrlSync=function(a,b,d,c){return Gb(a,W(this,a,b,d,!0,c))};h.expandUrlAsync=function(a,b){return W(this,a,b).then(function(b){return Gb(a,b)})};
h.maybeExpandLink=function(a){if(O(this.ampdoc.win,"link-url-replace")){var b=a.getAttribute("data-amp-replace");if(b){var d=H(this.ampdoc),c=a["amp-original-href"]||a.getAttribute("href"),e=K(c);if(e.origin!=K(d.canonicalUrl).origin&&e.origin!=K(d.sourceUrl).origin)w().warn("URL","Ignoring link replacement",c," because the link does not go to the document's source or canonical origin.");else{null==a["amp-original-href"]&&(a["amp-original-href"]=c);var f={CLIENT_ID:!0,QUERY_PARAM:!0},g={};b.trim().split(/\s*,\s*/).forEach(function(a){f.hasOwnProperty(a)?
g[a]=!0:w().warn("URL","Ignoring unsupported link replacement",a)});return a.href=this.expandSync(c,void 0,void 0,g)}}}};
function W(a,b,d,c,e,f){var g=a.M.getExpr(d),m,k=b.replace(g,function(b,g,q){var n=[];"string"==typeof q&&(n=q.split(","));if(f&&!f[g])return b;var l;if(d&&g in d)l=d[g];else if(l=a.M.get(g))if(e){if(l=l.sync,!l)return w().error("UrlReplacements","ignoring async replacement key: ",g),""}else l=l.async||l.sync;var p;try{p="function"==typeof l?l.apply(null,n):l}catch(Ob){e&&(p=""),u(Ob)}if(p&&p.then){if(e)return w().error("UrlReplacements","ignoring promise value for key: ",g),"";var B=p.catch(function(a){u(a)}).then(function(a){k=
k.replace(b,null==a?"":encodeURIComponent(a));c&&(c[b]=a)});m=m?m.then(function(){return B}):B;return b}c&&(c[b]=p);return null==p?"":encodeURIComponent(p)});m&&(m=m.then(function(){return k}));return e?k:m||Promise.resolve(k)}h.collectVars=function(a,b){var d=Object.create(null);return W(this,a,b,d).then(function(){return d})};
function Gb(a,b){var d=K(b,!0).protocol,c=K(a,!0).protocol;if(d!=c)return w().error("UrlReplacements","Illegal replacement of the protocol: ",a),a;w().assert("javascript:"!==d,"Illegal javascript link protocol: %s",a);return b}h.getVariableSource=function(){return this.M};function Hb(a){return Array.isArray(a)&&2==a.length&&"number"===typeof a[0]&&"number"===typeof a[1]}var Ib={frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"},Jb={adSlotBuilt:"0",urlBuilt:"1",adRequestStart:"2",adRequestEnd:"3",extractCreativeAndSignature:"4",adResponseValidateStart:"5",renderFriendlyStart:"6",renderCrossDomainStart:"7",renderFriendlyEnd:"8",renderCrossDomainEnd:"9",preAdThrottle:"10",renderSafeFrameStart:"11",adSlotCleared:"20"};
function X(a){AMP.BaseElement.call(this,a);this.B=null;this.G=0;this.i=this.uiHandler=this.f=this.config=null;this.F=this.H=!1;this.T=this.getVsync();this.win.ampA4aValidationKeys||(this.win.ampA4aValidationKeys=Kb(this));this.u=null;this.v=C(this.win,"platform").isIos()?"safeframe":null;this.emitLifecycleEvent("adSlotBuilt")}t(X,AMP.BaseElement);h=X.prototype;h.getPriority=function(){return 2};
h.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};h.buildCallback=function(){var a=this.element.getAttribute("type");this.config=ua[a]||{};this.uiHandler=new AMP.AmpAdUIHandler(this);this.uiHandler.init()};
h.renderOutsideViewport=function(){var a;a:{a=this.element;var b=this.win["3pla"]||{},d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)){a=!1;break a}a="prefer-viewability-over-views"==a.getAttribute("data-loading-strategy")?1.25:!0}var c=a;return!0!==c?c:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};h.isValidElement=function(){return!0};h.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};
h.preconnectCallback=function(){var a=this;this.preconnect.url("https://tpc.googlesyndication.com/safeframe/1-0-4/html/container.html");if(this.config){var b=this.config.preconnect;"string"==typeof b?this.preconnect.url(b,!0):b&&b.forEach(function(b){a.preconnect.url(b,!0)})}};
h.onLayoutMeasure=function(){var a=this;if(this.i)this.i.onLayoutMeasure();if(!this.F&&V)if(this.F=!0,w().assert(ob(this.element,this.win),"<%s> is not allowed to be placed in elements with position:fixed: %s",this.element.tagName,this.element),this.isValidElement()){this.G++;var b=this.G,d=function(b){if(b!=a.G)throw Error("CANCELLED");};this.B=E(this.getAmpDoc(),"viewer").whenFirstVisible().then(function(){d(b);return a.getAdUrl()}).then(function(c){d(b);a.f=c;a.emitLifecycleEvent("urlBuilt",c);
return c&&Lb(a,c)}).then(function(c){d(b);if(!c||!c.arrayBuffer)return null;a.emitLifecycleEvent("adRequestEnd",c);a.v=c.headers.get("X-AmpAdRender")||a.v;return c.arrayBuffer().then(function(a){return{bytes:a,headers:c.headers}})}).then(function(c){d(b);c&&a.emitLifecycleEvent("extractCreativeAndSignature",c);return c&&a.extractCreativeAndSignature(c.bytes,c.headers)}).then(function(c){d(b);"safeframe"==a.v&&c&&c.creative&&(a.u=c.creative);if(!c||!c.signature)return Promise.resolve(null);a.emitLifecycleEvent("adResponseValidateStart",
c);return Mb(a,c.creative,c.signature).then(function(b){if(b)return b;a.win.ampA4aValidationKeys=Kb(a);return Mb(a,c.creative,c.signature)})}).then(function(c){d(b);return c&&Nb(a,c)}).catch(function(b){return Pb(a,b)})}else w().warn("AMP-A4A","Amp ad element ignored as invalid",this.element)};
function Mb(a,b,d){var c=a.win.ampA4aValidationKeys;return pb(c.map(function(c){return c.then(function(c){return pb(c.map(function(c){return c.then(function(c){return c?Eb(new Uint8Array(b),d,c).then(function(a){return a?b:Promise.reject("Key failed to validate creative's signature.")},function(b){w().error("AMP-A4A",b,a.element)}):Promise.reject("Promise resolved to null key.")})})).then(function(a){return a[0]})})})).then(function(a){return a[0]})}
function Pb(a,b){if(b&&b.message){if(0==b.message.indexOf("amp-a4a: "))return b;if(b.message==Error("CANCELLED").message)throw b;}var d=a.f?a.f.indexOf("?"):-1;a={m:b instanceof Error?b.message:b,tag:a.element.tagName,type:a.element.getAttribute("type"),au:0>d?"":a.f.substring(d+1,d+251)};return Error("amp-a4a: "+JSON.stringify(a))}
h.layoutCallback=function(){var a=this;return!this.B||this.H?Promise.resolve():this.B.then(function(b){if(b instanceof Error||!b){a.emitLifecycleEvent("preAdThrottle");Ab(a.win);if("safeframe"==a.v&&a.u){var d=Qb(a,a.u);a.u=null;return d}if(a.f)return Rb(a,a.f);throw Error("No creative or URL available -- A4A can't render any ad");}if(b instanceof Error)throw b;}).catch(function(b){return Promise.reject(Pb(a,b))})};
h.unlayoutCallback=function(){var a=this;this.emitLifecycleEvent("adSlotCleared");this.uiHandler.setDisplayState(0);if(!this.F)return!0;this.T.mutate(function(){for(var b=a.element;b.firstChild;)b.removeChild(b.firstChild);a.B=null;a.f=null;a.u=null;a.v=C(a.win,"platform").isIos()?"safeframe":null;a.H=!1;a.i&&(a.i.freeXOriginIframe(),a.i=null);a.F=!1});this.G++;return!0};h.viewportCallback=function(a){this.i&&this.i.viewportCallback(a)};
h.getAdUrl=function(){throw Error("getAdUrl not implemented!");};h.extractCreativeAndSignature=function(){throw Error("extractCreativeAndSignature not implemented!");};h.onAmpCreativeRender=function(){this.emitLifecycleEvent("renderFriendlyEnd")};h.onCrossDomainIframeCreated=function(a){x().info("A4A","onCrossDomainIframeCreated "+a)};
function Lb(a,b){a.emitLifecycleEvent("adRequestStart");var d={mode:"cors",method:"GET",credentials:"include",requireAmpResponseSourceOrigin:!0};return C(a.win,"xhr").fetch(b,d).catch(function(){return null})}h.getSigningServiceNames=function(){return["google"]};
function Kb(a){if(!V)return[];var b=a.getSigningServiceNames().map(function(b){wa(b);var c=Xa[b];if(c)return C(a.win,"xhr").fetchJson(c,{mode:"cors",method:"GET"}).then(function(b){if(y(b)&&Array.isArray(b.keys)&&b.keys.every(y))return b.keys;w().error("AMP-A4A","Invalid response from signing server.",a.element);return[]}).catch(function(b){w().error("AMP-A4A",b,a.element);return[]});c="Signing service '"+b+"' does not exist.";w().error("AMP-A4A",c,a.element);return[]});return b.map(function(b){return b.then(function(b){return b.map(function(b){return Cb(b).catch(function(b){w().error("AMP-A4A",
b,a.element);return null})})})})}
function Nb(a,b){a.emitLifecycleEvent("renderFriendlyStart",b);return Aa(b).then(function(b){var c=Sb(b);if(c)try{var d=z(a.element.ownerDocument,"iframe",{frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"});a.applyFillContent(d);var f=[];c.customStylesheets&&c.customStylesheets.forEach(function(a){(a=a.href)&&f.push(a)});return jb(d,a.element,{url:a.f,html:c.minifiedCreative,extensionIds:c.customElementExtensions||[],fonts:f},function(b){var c=a.getAmpDoc(),d=new zb(a.getAmpDoc(),
b);oa(b,new Fb(c,d))}).then(function(b){var c=b.iframe.contentDocument||b.win.document;U(c.body,"visibility","visible");b.win.document.documentElement.addEventListener("click",a.Y.bind(a),!0);Tb(a,b.win);a.H=!0;a.onAmpCreativeRender();return!0})}catch(g){return x().error("AMP-A4A","Error injecting creative in friendly frame",g),!1}else return a.T.mutate(function(){Rb(a,a.f)}),!0})}function Ub(a,b){a.i=new AMP.AmpAdXOriginIframeHandler(a);a.H=!0;return a.i.init(b,!0)}
function Rb(a,b){a.emitLifecycleEvent("renderCrossDomainStart");b=z(a.element.ownerDocument,"iframe",Object.assign({height:a.element.getAttribute("height"),width:a.element.getAttribute("width"),src:C(a.win,"xhr").getCorsUrl(a.win,b)},Ib));return Ub(a,b)}
function Qb(a,b){a.emitLifecycleEvent("renderSafeFrameStart");return Aa(b).then(function(b){b=z(a.element.ownerDocument,"iframe",Object.assign({height:a.element.getAttribute("height"),width:a.element.getAttribute("width"),src:"https://tpc.googlesyndication.com/safeframe/1-0-4/html/container.html?n=0",name:"1-0-4;"+b.length+";"+b},Ib));return Ub(a,b)})}
function Sb(a){var b=a.lastIndexOf('<script type="application/json" amp-ad-metadata>');if(0>b)return x().warn("A4A","Could not locate start index for amp meta data in: %s",a),null;var d=a.lastIndexOf("\x3c/script>");if(0>d)return x().warn("A4A","Could not locate closing script tag for amp meta data in: %s",a),null;try{var c=JSON.parse(a.slice(b+48,d)),e=c.ampRuntimeUtf16CharOffsets;if(!Hb(e))throw Error("Invalid runtime offsets");var f={};if(c.customElementExtensions&&(f.customElementExtensions=c.customElementExtensions,
!Array.isArray(f.customElementExtensions)))throw Error("Invalid extensions");if(c.customStylesheets){f.customStylesheets=c.customStylesheets;var g="Invalid custom stylesheets";if(!Array.isArray(f.customStylesheets))throw Error(g);f.customStylesheets.forEach(function(a){if(!y(a)||!a.href||"string"!==typeof a.href||!/^https:\/\//i.test(a.href))throw Error(g);})}f.minifiedCreative=a.slice(0,e[0])+a.slice(e[1],b)+a.slice(d+9);return f}catch(m){return x().warn("A4A","Invalid amp metadata: %s",a.slice(b+
48,d)),null}}function Tb(a,b){O(a.win,"alp-for-a4a")&&b.document.documentElement.addEventListener("click",function(b){Ya(b,function(b){E(a.getAmpDoc(),"viewer").navigateTo(b,"a4a")})})}
h.Y=function(a){var b=ja(a.target);if(b&&b.href){var d=b.getAttribute("data-a4a-orig-href")||b.getAttribute("href");if(d){var c=ma(this.getAmpDoc()).expandSync(d,{CLICK_X:function(){return a.pageX},CLICK_Y:function(){return a.pageY}},void 0,{CLICK_X:!0,CLICK_Y:!0});c!=d&&(b.getAttribute("data-a4a-orig-href")||b.setAttribute("data-a4a-orig-href",d),b.setAttribute("href",c))}}};h.emitLifecycleEvent=function(){};var Vb={a4aProfilingRate:{on:1}};function Y(){}Y.prototype.sendPing=function(){};Y.prototype.reset=function(){};function Z(a,b,d,c,e){this.QQID_HEADER="X-QQID";this.A=a;this.C=b;this.P=d;this.I=e;this.U=c;this.L=this.P+"."+this.I;this.K=null;this.W=Date.now();this.R="https://csi.gstatic.com/csi"}t(Z,Y);Z.prototype.setQqid=function(a){this.K=a};Z.prototype.setPingAddress=function(a){this.R=a};
Z.prototype.sendPing=function(a){var b=Jb[a]||9999,d=Date.now()-this.W,c=this.K?encodeURIComponent(this.K):!1,c=c?"&qqid."+this.I+"="+c:"",e=this.C.getAttribute("data-experiment-id"),e=e?"&e="+encodeURIComponent(e):"";a=this.R+"?"+("s="+this.P)+("&v=2&it="+a+"."+d+","+a+"_"+this.I+"."+d)+("&rt=stage."+b+",slotId."+this.I)+("&c="+this.U)+"&rls=1480695002348"+(""+e+c)+("&it."+this.L+"="+a+"."+d)+("&rt."+this.L+"=stage."+b)+("&met."+this.L+"=stage_"+b+"."+d);b=this.C.ownerDocument.createElement("img");
b.setAttribute("src",a);b.setAttribute("style","position:fixed!important;top:0!important;width:1px!important;height:1px!important;overflow:hidden!important;visibility:hidden");b.setAttribute("aria-hidden","true");this.C.parentNode.insertBefore(b,this.C);x().info("PING",a)};Z.prototype.reset=function(){this.setQqid(null)};var Wb={visible:"1",hidden:"2",prerender:"3",preview:"4"};function Xb(a){X.call(this,a);this.h=this.h||this.initLifecycleReporter()}t(Xb,X);h=Xb.prototype;h.isValidElement=function(){return Ha(this.win,this.element)&&this.isAmpAdElement()};
h.getAdUrl=function(){var a=Date.now(),b=this.win,d=this.element.getAttribute("data-amp-slot-index"),c=Number(d),d=Ma(this.win,d),e=b.screen,f=this.getIntersectionElementLayoutBox(),g;g=D(b);var m=F(g,g,"documentState",void 0,eb).getVisibilityState(),k=this.element.getAttribute("data-adtest")||P(this.element);g=f.width+"x"+f.height;var n={name:"client",value:this.element.getAttribute("data-ad-client")},l={name:"w",value:f.width},f={name:"h",value:f.height},q={name:"iu",value:this.element.getAttribute("data-ad-slot")},
r=this.element,r=(r.getAttribute("data-ad-slot")||"")+":"+g+":"+Fa(r),r={name:"adk",value:Ea(r)};return Ia(this,a,[n,{name:"format",value:g},l,f,q,{name:"adtest",value:k},r,{name:"bc",value:b.SVGElement&&b.document.createElementNS?"1":null},{name:"ctypes",value:null},{name:"host",value:this.element.getAttribute("data-ad-host")},{name:"ifi",value:c},{name:"c",value:d},{name:"to",value:this.element.getAttribute("data-tag-origin")},{name:"u_ah",value:e?e.availHeight:null},{name:"u_aw",value:e?e.availWidth:
null},{name:"u_cd",value:e?e.colorDepth:null},{name:"u_h",value:e?e.height:null},{name:"u_tz",value:-(new Date).getTimezoneOffset()},{name:"u_w",value:e?e.width:null},{name:"vis",value:Wb[m]||"0"},{name:"wgl",value:b.WebGLRenderingContext?"1":"0"}])};h.extractCreativeAndSignature=function(a,b){a:{var d=a,c=null;try{b.has("X-AmpAdSignature")&&(c=M(b.get("X-AmpAdSignature")))}finally{b=Promise.resolve({creative:d,signature:c});break a}}return b};
h.emitLifecycleEvent=function(a,b){this.h=this.h||this.initLifecycleReporter();switch(a){case "adRequestEnd":b=b.headers.get(this.h.QQID_HEADER);this.h.setQqid(b);break;case "adSlotCleared":this.h.sendPing(a);this.h.reset();this.element.setAttribute("data-amp-slot-index",this.win.ampAdSlotIdCounter++);this.h=this.initLifecycleReporter();return}this.h.sendPing(a)};
h.initLifecycleReporter=function(){var a;a=this.element.getAttribute("data-amp-slot-index");var b=this.element.getAttribute("type"),d=this.win;Pa(d,Vb);if(b="doubleclick"==b||"adsense"==b)b=this.element.getAttribute("data-experiment-id"),b=b==Ta.experiment||b==Ua.experiment||b==Va.experiment||b==Wa.experiment||P(this.element)?!0:!1;b&&O(d,"a4aProfilingRate")?(b=Ma(d),a=new Z(d,this.element,"a4a",b,Number(a))):a=new Y;var c=a;return c};AMP.registerElement("amp-ad-network-adsense-impl",Xb);
})});
//# sourceMappingURL=amp-ad-network-adsense-impl-0.1.js.map

