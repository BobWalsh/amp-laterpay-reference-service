(self.AMP = self.AMP || []).push({n:"amp-ad-network-fake-impl", f:(function(AMP) {var k;function m(a,b){function d(){}d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;for(var c in b)if(Object.defineProperties){var e=Object.getOwnPropertyDescriptor(b,c);e&&Object.defineProperty(a,c,e)}else a[c]=b[c]};Date.now();function aa(a){for(var b=null,d="",c=0;c<arguments.length;c++){var e=arguments[c];e instanceof Error&&!b?b=e:(d&&(d+=" "),d+=e)}b?d&&(b.message=d+": "+b.message):b=Error(d);return b}function n(a){var b=aa.apply(null,arguments);setTimeout(function(){throw b;})}self.log=self.log||{user:null,dev:null};var t=self.log;function u(){if(t.user)return t.user;throw Error("failed to call initLogConstructor");}function v(){if(t.dev)return t.dev;throw Error("failed to call initLogConstructor");};var ba=Object.prototype.toString;function y(a){return"[object Object]"===ba.call(a)};var ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},da=/(&|<|>|"|'|`)/g;function z(a,b,d){a=a.createElement(b);for(var c in d)a.setAttribute(c,d[c]);return a}function A(a,b){for(var d,c=a;c&&c!==d;c=c.parentElement)if(b(c))return c;return null}function ea(a){var b="A";if(a.closest)return a.closest(b);b=b.toUpperCase();return A(a,function(a){return a.tagName==b})}function B(a){return a?a.replace(da,fa):a}function fa(a){return ca[a]};function C(a,b){a=D(a);var d=a.services&&a.services[b]&&a.services[b].obj;return d}function E(a,b){var d=a;if(d.nodeType)var c=(d.ownerDocument||d).defaultView,c=D(c),d=F(c,c,"ampdoc",void 0).getAmpDoc(d);var e=d.isSingleDoc()?d.win:d;return e&&e.services&&e.services[b]&&e.services[b].obj}function ga(a){if(a.nodeType){var b=ha((a.ownerDocument||a).defaultView);if(b)return b}return E(a,"url-replace")}function ia(a,b){var d=D(a);ha(a);F(a,a,"url-replace",function(){return b})}
function ha(a){var b=D(a);return a!=b&&a.services&&a.services["url-replace"]&&a.services["url-replace"].obj?a.services["url-replace"].obj:null}function D(a){return a.__AMP_TOP||a}function F(a,b,d,c){var e=ja(a),f=e[d];f||(f=e[d]={obj:null,promise:null,resolve:null});f.obj||(f.obj=c(b),f.resolve&&f.resolve(f.obj));return f.obj}function ja(a){var b=a.services;b||(b=a.services={});return b}
function ka(a){a=ja(a);var b={},d;for(d in a)if(b.id=d,Object.prototype.hasOwnProperty.call(a,b.id)){var c=a[b.id];c.obj?la(b.id,c.obj):c.promise&&c.promise.then(function(a){return function(b){return la(a.id,b)}}(b));b={id:b.id}}}function la(a,b){if("function"==typeof b.dispose)try{b.dispose()}catch(d){v().error("SERVICE","failed to dispose service",a,d)}};var ma={_ping_:{renderStartImplemented:!0},a9:{prefetch:"https://c.amazon-adsystem.com/aax2/assoc.js"},accesstrade:{prefetch:"https://h.accesstrade.net/js/amp/amp.js"},adblade:{prefetch:"https://web.adblade.com/js/ads/async/show.js",preconnect:["https://staticd.cdn.adblade.com","https://static.adblade.com"],renderStartImplemented:!0},adbutler:{prefetch:"https://servedbyadbutler.com/app.js"},adform:{},adgeneration:{prefetch:"https://i.socdm.com/sdk/js/adg-script-loader.js"},adition:{},adman:{},adreactor:{},
adsense:{prefetch:"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",preconnect:"https://googleads.g.doubleclick.net",clientIdScope:"AMP_ECID_GOOGLE"},adsnative:{prefetch:"https://static.adsnative.com/static/js/render.v1.js",preconnect:"https://api.adsnative.com"},adspirit:{},adstir:{prefetch:"https://js.ad-stir.com/js/adstir_async.js",preconnect:"https://ad.ad-stir.com"},adtech:{prefetch:"https://s.aolcdn.com/os/ads/adsWrapper3.js",preconnect:["https://mads.at.atwola.com","https://aka-cdn.adtechus.com"]},
aduptech:{prefetch:"https://s.d.adup-tech.com/jsapi"},adverline:{prefetch:"https://ads.adverline.com/richmedias/amp.js",preconnect:["https://adnext.fr"],renderStartImplemented:!0},advertserve:{renderStartImplemented:!0},affiliateb:{prefetch:"https://track.affiliate-b.com/amp/a.js",renderStartImplemented:!0},amoad:{prefetch:["https://j.amoad.com/js/a.js","https://j.amoad.com/js/n.js"],preconnect:["https://d.amoad.com","https://i.amoad.com","https://m.amoad.com","https://v.amoad.com"]},appnexus:{prefetch:"https://acdn.adnxs.com/ast/ast.js",
preconnect:"https://ib.adnxs.com"},atomx:{prefetch:"https://s.ato.mx/p.js"},caprofitx:{prefetch:["https://cdn.caprofitx.com/pfx.min.js","https://cdn.caprofitx.com/tags/amp/profitx_amp.js"],preconnect:"https://ad.caprofitx.adtdp.com"},chargeads:{},colombia:{prefetch:"https://static.clmbtech.com/ad/commons/js/colombia-amp.js"},contentad:{},criteo:{prefetch:"https://static.criteo.net/js/ld/publishertag.js",preconnect:"https://cas.criteo.com"},dotandads:{prefetch:"https://amp.ad.dotandad.com/dotandadsAmp.js",
preconnect:"https://bal.ad.dotandad.com"},doubleclick:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://securepubads.g.doubleclick.net/static/glade.js"],preconnect:["https://partner.googleadservices.com","https://tpc.googlesyndication.com"],clientIdScope:"AMP_ECID_GOOGLE",renderStartImplemented:!0},eplanning:{prefetch:"https://us.img.e-planning.net/layers/epl-amp.js"},ezoic:{prefetch:["https://www.googletagservices.com/tag/js/gpt.js","https://g.ezoic.net/ezoic/ampad.js"]},f1e:{prefetch:"https://img.ak.impact-ad.jp/util/f1e_amp.min.js"},
fake:{},felmat:{prefetch:"https://t.felmat.net/js/fmamp.js",renderStartImplemented:!0},flite:{},genieessp:{prefetch:"https://js.gsspcln.jp/l/amp.js"},gmossp:{prefetch:"https://cdn.gmossp-sp.jp/ads/amp.js"},holder:{prefetch:"https://i.holder.com.ua/js2/holder/ajax/ampv1.js",preconnect:"https://h.holder.com.ua",renderStartImplemented:!0},ibillboard:{},imobile:{prefetch:"https://spamp.i-mobile.co.jp/script/amp.js",preconnect:"https://spad.i-mobile.co.jp"},improvedigital:{},industrybrains:{prefetch:"https://web.industrybrains.com/js/ads/async/show.js",
preconnect:["https://staticd.cdn.industrybrains.com","https://static.industrybrains.com"],renderStartImplemented:!0},inmobi:{prefetch:"https://cf.cdn.inmobi.com/ad/inmobi.secure.js",renderStartImplemented:!0},ix:{prefetch:"https://js-sec.indexww.com/indexJTag.js",preconnect:"https://as-sec.casalemedia.com"},kargo:{},kixer:{prefetch:"https://cdn.kixer.com/ad/load.js",renderStartImplemented:!0},ligatus:{},loka:{prefetch:"https://loka-cdn.akamaized.net/scene/amp.js",preconnect:["https://scene-front.lokaplatform.com",
"https://loka-materials.akamaized.net"],renderStartImplemented:!0},mads:{prefetch:"https://eu2.madsone.com/js/tags.js"},"mantis-display":{prefetch:"https://assets.mantisadnetwork.com/mantodea.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://res.cloudinary.com","https://resize.mantisadnetwork.com"]},"mantis-recommend":{prefetch:"https://assets.mantisadnetwork.com/recommend.min.js",preconnect:["https://mantodea.mantisadnetwork.com","https://resize.mantisadnetwork.com"]},mediaimpact:{prefetch:"https://ec-ns.sascdn.com/diff/251/pages/amp_default.js",
preconnect:["https://ww251.smartadserver.com","https://static.sascdn.com/"],renderStartImplemented:!0},medianet:{preconnect:"https://contextual.media.net",renderStartImplemented:!0},mediavine:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"],renderStartImplemented:!0},meg:{renderStartImplemented:!0},microad:{prefetch:"https://j.microad.net/js/camp.js",preconnect:["https://s-rtb.send.microad.jp",
"https://s-rtb.send.microadinc.com","https://cache.send.microad.jp","https://cache.send.microadinc.com","https://deb.send.microad.jp"]},mixpo:{prefetch:"https://cdn.mixpo.com/js/loader.js",preconnect:["https://player1.mixpo.com","https://player2.mixpo.com"]},nativo:{prefetch:"https://s.ntv.io/serve/load.js"},nend:{prefetch:"https://js1.nend.net/js/amp.js",preconnect:["https://output.nend.net","https://img1.nend.net"]},nokta:{prefetch:"https://static.virgul.com/theme/mockups/noktaamp/ampjs.js",renderStartImplemented:!0},
openadstream:{},openx:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"]},plista:{},pubmatic:{prefetch:"https://ads.pubmatic.com/AdServer/js/amp.js"},pubmine:{prefetch:["https://s.pubmine.com/head.js","https://s.pubmine.com/showad.js"],preconnect:"https://delivery.g.switchadhub.com",renderStartImplemented:!0},pulsepoint:{prefetch:"https://ads.contextweb.com/TagPublish/getjs.static.js",
preconnect:"https://tag.contextweb.com"},purch:{prefetch:"https://ramp.purch.com/serve/creative_amp.js",renderStartImplemented:!0},revcontent:{prefetch:"https://labs-cdn.revcontent.com/build/amphtml/revcontent.amp.min.js",preconnect:["https://trends.revcontent.com","https://cdn.revcontent.com","https://img.revcontent.com"]},rubicon:{},sharethrough:{renderStartImplemented:!0},smartadserver:{prefetch:"https://ec-ns.sascdn.com/diff/js/amp.v0.js",preconnect:"https://static.sascdn.com",renderStartImplemented:!0},
smartclip:{prefetch:"https://cdn.smartclip.net/amp/amp.v0.js",preconnect:"https://des.smartclip.net",renderStartImplemented:!0},sortable:{prefetch:"https://www.googletagservices.com/tag/js/gpt.js",preconnect:["https://tags-cdn.deployads.com","https://partner.googleadservices.com","https://securepubads.g.doubleclick.net","https://tpc.googlesyndication.com"]},sovrn:{prefetch:"https://ap.lijit.com/www/sovrn_amp/sovrn_ads.js"},taboola:{},teads:{prefetch:"https://cdn.teads.tv/media/format/v3/teads-format.min.js",
preconnect:["https://cdn2.teads.tv","https://a.teads.tv","https://t.teads.tv"]},triplelift:{},webediads:{prefetch:"https://eu1.wbdds.com/amp.min.js",preconnect:["https://goutee.top","https://mediaathay.org.uk"],renderStartImplemented:!0},"weborama-display":{prefetch:["https://cstatic.weborama.fr/js/advertiserv2/adperf_launch_1.0.0_scrambled.js","https://cstatic.weborama.fr/js/advertiserv2/adperf_core_1.0.0_scrambled.js"]},widespace:{},xlift:{prefetch:"https://cdn.x-lift.jp/resources/common/xlift_amp.js",
renderStartImplemented:!0},yahoo:{prefetch:"https://s.yimg.com/os/ampad/display.js",preconnect:"https://us.adserver.yahoo.com"},yahoojp:{prefetch:["https://s.yimg.jp/images/listing/tool/yads/ydn/amp/amp.js","https://yads.c.yimg.jp/js/yads.js"],preconnect:"https://yads.yahoo.co.jp"},yieldbot:{prefetch:["https://cdn.yldbt.com/js/yieldbot.intent.amp.js","https://msg.yldbt.com/js/ybmsg.html"],preconnect:"https://i.yldbt.com"},yieldmo:{prefetch:"https://static.yieldmo.com/ym.amp1.js",preconnect:["https://s.yieldmo.com",
"https://ads.yieldmo.com"],renderStartImplemented:!0},yieldone:{prefetch:"https://img.ak.impact-ad.jp/ic/pone/commonjs/yone-amp.js"},zedo:{prefetch:"https://ss3.zedo.com/gecko/tag/Gecko.amp.min.js",renderStartImplemented:!0},zergnet:{},zucks:{preconnect:["https://j.zucks.net.zimg.jp","https://sh.zucks.net","https://k.zucks.net","https://static.zucks.net.zimg.jp"]}};function na(a){var b="-dev",d=a.length-b.length;0<=d&&a.indexOf(b,d)};var oa=/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org/,pa=/^https?:\/\/localhost(:\d+)?$/;var G,H;
function I(a,b){G||(G=self.document.createElement("a"),H=self.UrlCache||(self.UrlCache=Object.create(null)));var d=H[a];if(d)return d;G.href=a;G.protocol||(G.href=G.href);var c={href:G.href,protocol:G.protocol,host:G.host,hostname:G.hostname,port:"0"==G.port?"":G.port,pathname:G.pathname,search:G.search,hash:G.hash,origin:null};"/"!==c.pathname[0]&&(c.pathname="/"+c.pathname);if("http:"==c.protocol&&80==c.port||"https:"==c.protocol&&443==c.port)c.port="",c.host=c.hostname;c.origin=G.origin&&"null"!=
G.origin?G.origin:"data:"!=c.protocol&&c.host?c.protocol+"//"+c.host:c.href;var e=c;return b?e:H[a]=e}function qa(a){var b=Object.create(null);if(!a)return b;if(0==a.indexOf("?")||0==a.indexOf("#"))a=a.substr(1);a=a.split("&");for(var d=0;d<a.length;d++){var c=a[d],e=c.indexOf("="),f;-1!=e?(f=decodeURIComponent(c.substring(0,e)).trim(),c=decodeURIComponent(c.substring(e+1)).trim()):(f=decodeURIComponent(c).trim(),c="");f&&(b[f]=c)}return b}
function J(a){"string"==typeof a&&(a=I(a));return oa.test(a.origin)};function K(a){return"undefined"!==typeof TextDecoder?Promise.resolve((new TextDecoder("utf-8")).decode(a)):new Promise(function(b,d){var c=new FileReader;c.onerror=function(){d(c.error)};c.onloadend=function(){b(c.result)};c.readAsText(new Blob([a]))})}
function ra(a){return"undefined"!==typeof TextEncoder?Promise.resolve((new TextEncoder("utf-8")).encode(a)):new Promise(function(b,d){var c=new FileReader;c.onerror=function(){d(c.error)};c.onloadend=function(){b(new Uint8Array(c.result))};c.readAsArrayBuffer(new Blob([a]))})}function sa(a){for(var b=new Uint8Array(a.length),d=0;d<a.length;d++){var c=a.charCodeAt(d);b[d]=c}return b};var ta={"-":"+",_:"/",".":"="};function ua(a){var b=atob(a.replace(/[-_.]/g,function(a){return ta[a]}));return sa(b)};var L;function M(a,b){var d=L||(L=Object.create(null));if(b in d)a=d[b];else{var c=b;a=-1!=wa(a).indexOf(c)?!0:a.AMP_CONFIG&&a.AMP_CONFIG.hasOwnProperty(c)?Math.random()<a.AMP_CONFIG[c]:!1;a=d[b]=a}return a}
function wa(a){if(a._experimentCookie)return a._experimentCookie;var b;a:{b:{try{b=a.document.cookie;break b}catch(g){}b=void 0}if(b){b=b.split(";");for(var d=0;d<b.length;d++){var c=b[d].trim(),e=c.indexOf("=");if(-1!=e&&"AMP_EXP"==decodeURIComponent(c.substring(0,e).trim())){b=decodeURIComponent(c.substring(e+1).trim());break a}}}b=null}var f=b;return a._experimentCookie=f?f.split(/\s*,\s*/g):[]};function xa(a,b,d,c,e){var f=b.dataset&&b.dataset.multiSize;if(a.crypto&&(a.crypto.subtle||a.crypto.webkitSubtle)&&!f&&J(a.location)){var f=d,g=c.control,l=c.experiment,h=E(b,"viewer").getParam("exp")||qa(a.location.search).exp;if(h&&(h=(h=/(^|,)(a4a:[^,]*)/.exec(h))&&h[2])){var p=h.split(":",2)[1],g={"-1":"117152632",0:null,1:g,2:l};if(g.hasOwnProperty(p)){g=g[p];a.pageExperimentBranches=a.pageExperimentBranches||{};var q=!!g,l=L||(L=Object.create(null)),h=wa(a),p=-1!=h.indexOf(f)||f in l&&l[f],
q=void 0!==q?q:!p;q!=p&&(q?(h.push(f),l[f]=!0):(h.splice(h.indexOf(f),1),l[f]=!1));a.pageExperimentBranches[f]=g}else v().warn("A4A-CONFIG","Unknown a4a URL parameter: ",h," expected one of -1 (manual), 0 (not in experiment), 1 (control branch), or 2 (a4a experiment branch)")}var x={};x[d]=e;f=x;a.pageExperimentBranches=a.pageExperimentBranches||{};for(var w in f)f.hasOwnProperty(w)&&!a.pageExperimentBranches.hasOwnProperty(w)&&!a.pageExperimentBranches[w]&&M(a,w)&&(g=f[w],l=Object.keys(g),a.pageExperimentBranches[w]=
g[l[Math.floor(Math.random()*l.length)]]);if(M(a,d)){var r=a.pageExperimentBranches[d];a=r;(w=b.getAttribute("data-experiment-id"))&&ya(za(w))?b.setAttribute("data-experiment-id",Aa(a,w)):b.setAttribute("data-experiment-id",a);return r==e.experiment||r==c.experiment||"117152632"==r}}return!1}function za(a){return a?a.split(","):[]}function Ba(a){return za(a.getAttribute("data-experiment-id")).some(function(a){return"117152632"===a})}
function ya(a){return a.every(function(a){return!isNaN(parseInt(a,10))})}function Aa(a,b){return a&&!isNaN(parseInt(a,10))?b?b+","+a:a:b||""};var Ca={control:"117152650",experiment:"117152651"},Da={control:"117152670",experiment:"117152671"};var Ea={control:"117152660",experiment:"117152661"},Fa={control:"117152680",experiment:"117152681"};(function(a){var b=Object.create(null);a&&Object.assign(b,a);return b})({adsense:function(a,b){return xa(a,b,"expAdsenseA4A",Ca,Da)},doubleclick:function(a,b){if(a.document.querySelector("meta[name=amp-3p-iframe-src]"))return!1;var d=b.hasAttribute("data-use-beta-a4a-implementation"),c=xa(a,b,"expDoubleclickA4A",Ea,Fa)||d&&(J(a.location)||!1||!1);c&&d&&!Ba(b)&&b.setAttribute("data-experiment-id","2077831");return c}});var Ga={google:"https://cdn.ampproject.org/amp-ad-verifying-keyset.json","google-dev":"https://cdn.ampproject.org/amp-ad-verifying-keyset-dev.json"};function Ha(a,b){if(!(a.defaultPrevented||0!=a.buttons&&1!=a.buttons||a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)){var d=Ia(a);if(d&&d.eventualUrl&&!1!==a.isTrusted){var c=encodeURIComponent,e,f=d.a.href;e=encodeURIComponent("amp")+"="+encodeURIComponent("1");if(e){var f=f.split("#",2),g=f[0].split("?",2);e=g[0]+(g[1]?"?"+e+"&"+g[1]:"?"+e);e+=f[1]?"#"+f[1]:""}else e=f;var l="click="+c(e);e=d.eventualUrl;e=-1==d.eventualUrl.indexOf("#")?e+("#"+l):e+("&"+l);c=d.a.ownerDocument.defaultView;(f=c.location.ancestorOrigins)&&
"http://localhost:8000"==f[f.length-1]&&(e=e.replace(I(d.eventualUrl).host+"/c/","http://localhost:8000/max/"));a.preventDefault();if(b)b(e);else{a=e;e=(d.a.target||"_top").toLowerCase();if(c.location.ancestorOrigins)if(f=c.location.ancestorOrigins,2>f.length||-1==f[f.length-1].indexOf(".google."))f=null;else{var g=f[f.length-2],h;(h=J(g))||(h=g,"string"==typeof h&&(h=I(h)),h=pa.test(h.origin));if(h){h=c;for(var p=0;p<f.length-1;p++)h=h.parent;f={win:h,origin:g}}else f=null}else f=null;if(f)f.win.postMessage("a2a;"+
JSON.stringify({url:a}),f.origin);else{var q;try{q=c.open(a,e,void 0)}catch(x){v().error("DOM","Failed to open url on target: ",e,x)}q||"_top"==e||c.open(a,"_top")}}}}}function Ia(a){var b=A(a.target,function(a){return"A"==a.tagName&&a.href});if(b)return{eventualUrl:Ja(b),a:b}}function Ja(a){var b=a.getAttribute("data-url-param-name")||"adurl",d=qa(a.search)[b];if(a=d)if(a=J(d))a=I(d).pathname,a=3>a.length?!1:0==a.lastIndexOf("/c/",0);if(a)return d};function N(a,b,d){function c(a){d(a);e()}var e;e=function(){a&&a.removeEventListener(b,c,!1);d=c=a=null};a.addEventListener(b,c,!1);return e}function Ka(a){var b,d;if(a.complete||"complete"==a.readyState||a.document&&"complete"==a.document.readyState)return Promise.resolve(a);var c=new Promise(function(c,f){var e=a.tagName;b="AUDIO"===e||"VIDEO"===e?N(a,"loadstart",c):N(a,"load",c);e&&(d=N(a,"error",f))}),c=c.then(function(){return a},La);return Ma(c,b,d)}
function La(a){(a=a.target)&&a.src&&(a=a.src);throw u().createError("Failed to load:",a);}function Ma(a,b,d){var c=void 0,e;e=void 0===c?a:C(self,"timer").timeoutPromise(c||0,a);b&&e.then(b,b);d&&e.then(d,d);return e};var O,Na="Webkit webkit Moz moz ms O o".split(" ");function P(a,b,d){var c,e=a.style;O||(O=Object.create(null));var f=O[b];if(!f){f=b;if(void 0===e[b]){var g=b.charAt(0).toUpperCase()+b.slice(1);a:{for(var l=0;l<Na.length;l++){var h=Na[l]+g;if(void 0!==e[h]){g=h;break a}}g=""}void 0!==e[g]&&(f=g)}O[b]=f}(b=f)&&(a.style[b]=c?d+c:d)};self.AMPErrors=self.AMPErrors||[];function Oa(a){return"complete"==a.readyState}function Pa(a,b){var d=Oa,c=d(a);if(c)b(a);else{var e=function(){d(a)&&(c||(c=!0,b(a)),a.removeEventListener("readystatechange",e))};a.addEventListener("readystatechange",e)}}function Qa(a){return new Promise(function(b){Pa(a,b)})};var Q;
function Ra(a,b,d,c){var e=D(a.ownerDocument.defaultView),f=C(e,"extensions");P(a,"visibility","hidden");a.setAttribute("referrerpolicy","unsafe-url");d.extensionIds&&d.extensionIds.forEach(function(a){return f.loadExtension(a)});var g=Sa(d);a.onload=function(){a.readyState="complete"};var l;void 0===Q&&(Q="srcdoc"in HTMLIFrameElement.prototype);if(Q)a.srcdoc=g,l=Ka(a),b.appendChild(a);else{a.src="about:blank";b.appendChild(a);var h=a.contentWindow.document;h.open();h.write(g);l=Ka(a.contentWindow);h.close()}var p;
p=Ta(a)?Promise.resolve():new Promise(function(b){var c=e.setInterval(function(){Ta(a)&&(b(),e.clearInterval(c))},5);l.catch(function(a){n(a)}).then(function(){b();e.clearInterval(c)})});return p.then(function(){var b=a.contentWindow;f.installExtensionsInChildWindow(b,d.extensionIds||[],c);P(a,"visibility","");if(b.document&&b.document.body){var b=b.document.body,e={opacity:1,visibility:"visible",animation:"none"},g;for(g in e)P(b,g,e[g])}return new R(a,d,l)})}
function Ta(a){a=a.contentWindow&&a.contentWindow.document;return!!(a&&"loading"!=a.readyState&&"uninitialized"!=a.readyState&&a.body&&a.body.firstChild)}
function Sa(a){var b=a.html,d=b.toUpperCase(),c=d.indexOf("<HEAD");-1!=c&&(c=d.indexOf(">",c+1)+1);-1==c&&(c=d.indexOf("<BODY"));-1==c&&(c=d.indexOf("<HTML"),-1!=c&&(c=d.indexOf(">",c+1)+1));var e=[];0<c&&e.push(b.substring(0,c));e.push('<base href="'+B(a.url)+'">');a.fonts&&a.fonts.forEach(function(a){e.push('<link href="'+B(a)+'" rel="stylesheet" type="text/css">')});0<c?e.push(b.substring(c)):e.push(b);return e.join("")}
function R(a,b,d){this.iframe=a;this.win=a.contentWindow;this.spec=b;this.F=d}R.prototype.whenLoaded=function(){return this.F};R.prototype.destroy=function(){E(this.iframe,"resources").removeForChildWindow(this.win);ka(this.win)};var Ua={"AMP-FX-FLYING-CARPET":!0,"AMP-LIGHTBOX":!0,"AMP-STICKY-AD":!0};function Va(a,b){var d=!1,c=0;do Ua[a.tagName]?(c++,d=!1):"fixed"==b.getComputedStyle(a).position&&(d=!0),a=a.parentElement;while(a&&"BODY"!=a.tagName);return!d&&1>=c};function Wa(a){var b;b=void 0===b?1:b;return new Promise(function(d,c){function e(a){h.length<=g&&h.push(a);h.length>g&&c(h)}function f(a){l.length<b&&l.push(a);l.length==b&&d(l)}b=Math.max(b,0);var g=a.length-b;0>g&&c(Error("not enough promises to resolve"));0==a.length&&d([]);for(var l=[],h=[],p=0;p<a.length;p++)Promise.resolve(a[p]).then(f,e)})};function S(a){this.b=a;this.state=0;this.B=!!a.getFallback()}S.prototype.init=function(){if(M(this.b.win,"amp-ad-loading-ux")&&!this.B){var a=z(document,"div",{fallback:""});a.classList.add("amp-ad-default-fallback");this.b.element.appendChild(a)}};
S.prototype.setDisplayState=function(a){if(0!=this.state||1==a)switch(a){case 1:this.state=1;this.b.togglePlaceholder(!0);break;case 2:this.state=2;this.b.togglePlaceholder(!1);break;case 3:Xa(this);break;case 0:Ya(this);break;default:v().error("AmpAdUIHandler","state is not supported")}};
function Xa(a){a.B?a.b.deferMutate(function(){0!=a.state&&(a.b.togglePlaceholder(!1),a.b.toggleFallback(!0),a.state=3)}):a.b.attemptChangeHeight(0).then(function(){a.b.collapse();a.state=3},function(){a.b.togglePlaceholder(!1);a.b.toggleFallback(!0);a.state=3})}function Ya(a){a.state=0;a.b.deferMutate(function(){0==a.state&&(a.b.togglePlaceholder(!0),a.b.toggleFallback(!1))})}AMP.AmpAdUIHandler=S;function Za(a,b,d){var c=T(a,b,d);return""===c?Qa(a.document).then(function(){return T(a,b,d)}):Promise.resolve(c)}function T(a,b,d){var c=a.performance&&a.performance.timing;if(c&&0!=c.navigationStart&&(a=void 0===d?c[b]:c[d]-c[b],"number"===typeof a&&isFinite(a)))return 0>a?"":a}function $a(a,b){var d=a.performance&&a.performance.navigation;if(d&&void 0!==d[b])return d[b]}function U(){this.j=void 0;this.c=Object.create(null);this.o=!1}k=U.prototype;k.initialize=function(){};
k.get=function(a){this.o||(this.initialize(),this.o=!0);return this.c[a]};k.set=function(a,b){a.indexOf("RETURN");this.c[a]=this.c[a]||{sync:void 0,async:void 0};this.c[a].sync=b;this.j=void 0;return this};k.setAsync=function(a,b){a.indexOf("RETURN");this.c[a]=this.c[a]||{sync:void 0,async:void 0};this.c[a].async=b;this.j=void 0;return this};k.setBoth=function(a,b,d){return this.set(a,b).setAsync(a,d)};
k.getExpr=function(a){var b=this;this.o||(this.initialize(),this.o=!0);var d=a?Object.keys(a):null;if(d&&0<d.length){var c=Object.keys(this.c);d.forEach(function(a){void 0===b.c[a]&&c.push(a)});return ab(c)}this.j||(this.j=ab(Object.keys(this.c)));return this.j};function ab(a){a.sort(function(a,b){return b.length-a.length});var b=a.join("|");return new RegExp("\\$?("+b+")(?:\\(([0-9a-zA-Z-_.,]+)\\))?","g")};var bb="RANDOM COUNTER CANONICAL_URL CANONICAL_HOST CANONICAL_HOSTNAME CANONICAL_PATH DOCUMENT_REFERRER TITLE AMPDOC_URL AMPDOC_HOST AMPDOC_HOSTNAME SOURCE_URL SOURCE_HOST SOURCE_HOSTNAME SOURCE_PATH PAGE_VIEW_ID CLIENT_ID VARIANT VARIANTS SHARE_TRACKING_INCOMING SHARE_TRACKING_OUTGOING TIMESTAMP TIMEZONE SCROLL_TOP SCROLL_LEFT SCROLL_HEIGHT SCROLL_WIDTH VIEWPORT_HEIGHT VIEWPORT_WIDTH SCREEN_WIDTH SCREEN_HEIGHT AVAILABLE_SCREEN_HEIGHT AVAILABLE_SCREEN_WIDTH SCREEN_COLOR_DEPTH DOCUMENT_CHARSET BROWSER_LANGUAGE VIEWER TOTAL_ENGAGED_TIME AMP_VERSION".split(" ");
function V(a,b){U.call(this);this.D=ga(a).getVariableSource();this.w=b}m(V,U);
V.prototype.initialize=function(){var a=this;this.set("AD_NAV_TIMING",function(b,c){u().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return T(a.w,b,c)}).setAsync("AD_NAV_TIMING",function(b,c){u().assert(b,"The first argument to AD_NAV_TIMING, the start attribute name, is required");return Za(a.w,b,c)});this.set("AD_NAV_TYPE",function(){return $a(a.w,"type")});this.set("AD_NAV_REDIRECT_COUNT",function(){return $a(a.w,"redirectCount")});for(var b=0;b<bb.length;b++){var d=
bb[b],c=this.D.get(d);this.set(d,c.sync).setAsync(d,c.async)}};function cb(a){var b=a["3pla"];b||(b={},a["3pla"]=b);var d=C(a,"timer").delay(function(){C(a,"timer").cancel(d);var b=a["3pla"];b&&delete b[d]},1E3);b[d]=1};var db=window.crypto&&"webkitSubtle"in window.crypto,W=db?window.crypto.webkitSubtle:window.crypto.subtle;
function eb(a){return(db?ra(JSON.stringify(a)):Promise.resolve(a)).then(function(a){return W.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}).then(function(b){if("string"!=typeof a.n||"string"!=typeof a.e)throw Error("missing fields in JSON Web Key");var d=ua(a.n),c=ua(a.e),e=fb(d),f=fb(c),g=new Uint8Array(e.length+f.length);g.set(e);g.set(f,e.length);return W.digest({name:"SHA-1"},g).then(function(a){return{cryptoKey:b,hash:new Uint8Array(a,0,4)}})})}
function gb(a,b,d){var c;if(c=5<b.length&&0==b[0])a:if(c=d.hash,b&&c){for(var e=0;4>e;e++)if(b[e+1]!==c[e]){c=!1;break a}c=!0}else c=!1;if(!c)return Promise.resolve(!1);var f=new Uint8Array(a.length+1);f.set(a);f[a.length]=0;return W.verify({name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},d.cryptoKey,b.subarray(5),f)}function fb(a){var b=new Uint8Array(4+a.length);b[0]=a.length>>24&255;b[1]=a.length>>16&255;b[2]=a.length>>8&255;b[3]=a.length&255;b.set(a,4);return b};function hb(a,b){this.ampdoc=a;this.A=b}k=hb.prototype;k.expandSync=function(a,b,d,c){return this.expandUrlSync(a,b,d,c)};k.expandAsync=function(a,b){return this.expandUrlAsync(a,b)};k.expandStringSync=function(a,b,d,c){return X(this,a,b,d,!0,c)};k.expandStringAsync=function(a,b){return X(this,a,b)};k.expandUrlSync=function(a,b,d,c){return ib(a,X(this,a,b,d,!0,c))};k.expandUrlAsync=function(a,b){return X(this,a,b).then(function(b){return ib(a,b)})};
k.maybeExpandLink=function(a){if(M(this.ampdoc.win,"link-url-replace")){var b=a.getAttribute("data-amp-replace");if(b){var d=E(this.ampdoc,"documentInfo").get(),c=a["amp-original-href"]||a.getAttribute("href"),e=I(c);if(e.origin!=I(d.canonicalUrl).origin&&e.origin!=I(d.sourceUrl).origin)u().warn("URL","Ignoring link replacement",c," because the link does not go to the document's source or canonical origin.");else{null==a["amp-original-href"]&&(a["amp-original-href"]=c);var f={CLIENT_ID:!0,QUERY_PARAM:!0},
g={};b.trim().split(/\s*,\s*/).forEach(function(a){f.hasOwnProperty(a)?g[a]=!0:u().warn("URL","Ignoring unsupported link replacement",a)});return a.href=this.expandSync(c,void 0,void 0,g)}}}};
function X(a,b,d,c,e,f){var g=a.A.getExpr(d),l,h=b.replace(g,function(b,g,x){var p=[];"string"==typeof x&&(p=x.split(","));if(f&&!f[g])return b;var r;if(d&&g in d)r=d[g];else if(r=a.A.get(g))if(e){if(r=r.sync,!r)return u().error("UrlReplacements","ignoring async replacement key: ",g),""}else r=r.async||r.sync;var q;try{q="function"==typeof r?r.apply(null,p):r}catch(pb){e&&(q=""),n(pb)}if(q&&q.then){if(e)return u().error("UrlReplacements","ignoring promise value for key: ",g),"";var va=q.catch(function(a){n(a)}).then(function(a){h=
h.replace(b,null==a?"":encodeURIComponent(a));c&&(c[b]=a)});l=l?l.then(function(){return va}):va;return b}c&&(c[b]=q);return null==q?"":encodeURIComponent(q)});l&&(l=l.then(function(){return h}));return e?h:l||Promise.resolve(h)}k.collectVars=function(a,b){var d=Object.create(null);return X(this,a,b,d).then(function(){return d})};
function ib(a,b){var d=I(b,!0).protocol,c=I(a,!0).protocol;if(d!=c)return u().error("UrlReplacements","Illegal replacement of the protocol: ",a),a;u().assert("javascript:"!==d,"Illegal javascript link protocol: %s",a);return b}k.getVariableSource=function(){return this.A};function jb(a){return Array.isArray(a)&&2==a.length&&"number"===typeof a[0]&&"number"===typeof a[1]}var kb={frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no",marginwidth:"0",marginheight:"0"};
function Y(a){AMP.BaseElement.call(this,a);this.l=null;this.u=0;this.g=this.uiHandler=this.f=this.config=null;this.s=this.v=!1;this.C=this.getVsync();this.win.ampA4aValidationKeys||(this.win.ampA4aValidationKeys=lb(this));this.h=null;this.i=C(this.win,"platform").isIos()?"safeframe":null;this.emitLifecycleEvent("adSlotBuilt")}m(Y,AMP.BaseElement);k=Y.prototype;k.getPriority=function(){return 2};
k.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};k.buildCallback=function(){var a=this.element.getAttribute("type");this.config=ma[a]||{};this.uiHandler=new AMP.AmpAdUIHandler(this);this.uiHandler.init()};
k.renderOutsideViewport=function(){var a;a:{a=this.element;var b=this.win["3pla"]||{},d;for(d in b)if(Object.prototype.hasOwnProperty.call(b,d)){a=!1;break a}a="prefer-viewability-over-views"==a.getAttribute("data-loading-strategy")?1.25:!0}var c=a;return!0!==c?c:AMP.BaseElement.prototype.renderOutsideViewport.call(this)};k.isValidElement=function(){return!0};k.isAmpAdElement=function(){return"AMP-AD"==this.element.tagName||"AMP-EMBED"==this.element.tagName};
k.preconnectCallback=function(){var a=this;this.preconnect.url("https://tpc.googlesyndication.com/safeframe/1-0-4/html/container.html");if(this.config){var b=this.config.preconnect;"string"==typeof b?this.preconnect.url(b,!0):b&&b.forEach(function(b){a.preconnect.url(b,!0)})}};
k.onLayoutMeasure=function(){var a=this;if(this.g)this.g.onLayoutMeasure();if(!this.s&&W)if(this.s=!0,u().assert(Va(this.element,this.win),"<%s> is not allowed to be placed in elements with position:fixed: %s",this.element.tagName,this.element),this.isValidElement()){this.u++;var b=this.u,d=function(b){if(b!=a.u)throw Error("CANCELLED");};this.l=E(this.getAmpDoc(),"viewer").whenFirstVisible().then(function(){d(b);return a.getAdUrl()}).then(function(c){d(b);a.f=c;a.emitLifecycleEvent("urlBuilt",c);
return c&&mb(a,c)}).then(function(c){d(b);if(!c||!c.arrayBuffer)return null;a.emitLifecycleEvent("adRequestEnd",c);a.i=c.headers.get("X-AmpAdRender")||a.i;return c.arrayBuffer().then(function(a){return{bytes:a,headers:c.headers}})}).then(function(c){d(b);c&&a.emitLifecycleEvent("extractCreativeAndSignature",c);return c&&a.extractCreativeAndSignature(c.bytes,c.headers)}).then(function(c){d(b);"safeframe"==a.i&&c&&c.creative&&(a.h=c.creative);if(!c||!c.signature)return Promise.resolve(null);a.emitLifecycleEvent("adResponseValidateStart",
c);return nb(a,c.creative,c.signature).then(function(b){if(b)return b;a.win.ampA4aValidationKeys=lb(a);return nb(a,c.creative,c.signature)})}).then(function(c){d(b);return c&&ob(a,c)}).catch(function(b){return qb(a,b)})}else u().warn("AMP-A4A","Amp ad element ignored as invalid",this.element)};
function nb(a,b,d){var c=a.win.ampA4aValidationKeys;return Wa(c.map(function(c){return c.then(function(c){return Wa(c.map(function(c){return c.then(function(c){return c?gb(new Uint8Array(b),d,c).then(function(a){return a?b:Promise.reject("Key failed to validate creative's signature.")},function(b){u().error("AMP-A4A",b,a.element)}):Promise.reject("Promise resolved to null key.")})})).then(function(a){return a[0]})})})).then(function(a){return a[0]})}
function qb(a,b){if(b&&b.message){if(0==b.message.indexOf("amp-a4a: "))return b;if(b.message==Error("CANCELLED").message)throw b;}var d=a.f?a.f.indexOf("?"):-1;a={m:b instanceof Error?b.message:b,tag:a.element.tagName,type:a.element.getAttribute("type"),au:0>d?"":a.f.substring(d+1,d+251)};return Error("amp-a4a: "+JSON.stringify(a))}
k.layoutCallback=function(){var a=this;return!this.l||this.v?Promise.resolve():this.l.then(function(b){if(b instanceof Error||!b){a.emitLifecycleEvent("preAdThrottle");cb(a.win);if("safeframe"==a.i&&a.h){var d=rb(a,a.h);a.h=null;return d}if(a.f)return sb(a,a.f);throw Error("No creative or URL available -- A4A can't render any ad");}if(b instanceof Error)throw b;}).catch(function(b){return Promise.reject(qb(a,b))})};
k.unlayoutCallback=function(){var a=this;this.emitLifecycleEvent("adSlotCleared");this.uiHandler.setDisplayState(0);if(!this.s)return!0;this.C.mutate(function(){for(var b=a.element;b.firstChild;)b.removeChild(b.firstChild);a.l=null;a.f=null;a.h=null;a.i=C(a.win,"platform").isIos()?"safeframe":null;a.v=!1;a.g&&(a.g.freeXOriginIframe(),a.g=null);a.s=!1});this.u++;return!0};k.viewportCallback=function(a){this.g&&this.g.viewportCallback(a)};
k.getAdUrl=function(){throw Error("getAdUrl not implemented!");};k.extractCreativeAndSignature=function(){throw Error("extractCreativeAndSignature not implemented!");};k.onAmpCreativeRender=function(){this.emitLifecycleEvent("renderFriendlyEnd")};k.onCrossDomainIframeCreated=function(a){v().info("A4A","onCrossDomainIframeCreated "+a)};
function mb(a,b){a.emitLifecycleEvent("adRequestStart");var d={mode:"cors",method:"GET",credentials:"include",requireAmpResponseSourceOrigin:!0};return C(a.win,"xhr").fetch(b,d).catch(function(){return null})}k.getSigningServiceNames=function(){return["google"]};
function lb(a){if(!W)return[];var b=a.getSigningServiceNames().map(function(b){na(b);var c=Ga[b];if(c)return C(a.win,"xhr").fetchJson(c,{mode:"cors",method:"GET"}).then(function(b){if(y(b)&&Array.isArray(b.keys)&&b.keys.every(y))return b.keys;u().error("AMP-A4A","Invalid response from signing server.",a.element);return[]}).catch(function(b){u().error("AMP-A4A",b,a.element);return[]});c="Signing service '"+b+"' does not exist.";u().error("AMP-A4A",c,a.element);return[]});return b.map(function(b){return b.then(function(b){return b.map(function(b){return eb(b).catch(function(b){u().error("AMP-A4A",
b,a.element);return null})})})})}
function ob(a,b){a.emitLifecycleEvent("renderFriendlyStart",b);return K(b).then(function(b){var c=tb(b);if(c)try{var d=z(a.element.ownerDocument,"iframe",{frameborder:"0",allowfullscreen:"",allowtransparency:"",scrolling:"no"});a.applyFillContent(d);var f=[];c.customStylesheets&&c.customStylesheets.forEach(function(a){(a=a.href)&&f.push(a)});return Ra(d,a.element,{url:a.f,html:c.minifiedCreative,extensionIds:c.customElementExtensions||[],fonts:f},function(b){var c=a.getAmpDoc(),d=new V(a.getAmpDoc(),
b);ia(b,new hb(c,d))}).then(function(b){var c=b.iframe.contentDocument||b.win.document;P(c.body,"visibility","visible");b.win.document.documentElement.addEventListener("click",a.G.bind(a),!0);ub(a,b.win);a.v=!0;a.onAmpCreativeRender();return!0})}catch(g){return v().error("AMP-A4A","Error injecting creative in friendly frame",g),!1}else return a.C.mutate(function(){sb(a,a.f)}),!0})}function vb(a,b){a.g=new AMP.AmpAdXOriginIframeHandler(a);a.v=!0;return a.g.init(b,!0)}
function sb(a,b){a.emitLifecycleEvent("renderCrossDomainStart");b=z(a.element.ownerDocument,"iframe",Object.assign({height:a.element.getAttribute("height"),width:a.element.getAttribute("width"),src:C(a.win,"xhr").getCorsUrl(a.win,b)},kb));return vb(a,b)}
function rb(a,b){a.emitLifecycleEvent("renderSafeFrameStart");return K(b).then(function(b){b=z(a.element.ownerDocument,"iframe",Object.assign({height:a.element.getAttribute("height"),width:a.element.getAttribute("width"),src:"https://tpc.googlesyndication.com/safeframe/1-0-4/html/container.html?n=0",name:"1-0-4;"+b.length+";"+b},kb));return vb(a,b)})}
function tb(a){var b=a.lastIndexOf('<script type="application/json" amp-ad-metadata>');if(0>b)return v().warn("A4A","Could not locate start index for amp meta data in: %s",a),null;var d=a.lastIndexOf("\x3c/script>");if(0>d)return v().warn("A4A","Could not locate closing script tag for amp meta data in: %s",a),null;try{var c=JSON.parse(a.slice(b+48,d)),e=c.ampRuntimeUtf16CharOffsets;if(!jb(e))throw Error("Invalid runtime offsets");var f={};if(c.customElementExtensions&&(f.customElementExtensions=c.customElementExtensions,
!Array.isArray(f.customElementExtensions)))throw Error("Invalid extensions");if(c.customStylesheets){f.customStylesheets=c.customStylesheets;var g="Invalid custom stylesheets";if(!Array.isArray(f.customStylesheets))throw Error(g);f.customStylesheets.forEach(function(a){if(!y(a)||!a.href||"string"!==typeof a.href||!/^https:\/\//i.test(a.href))throw Error(g);})}f.minifiedCreative=a.slice(0,e[0])+a.slice(e[1],b)+a.slice(d+9);return f}catch(l){return v().warn("A4A","Invalid amp metadata: %s",a.slice(b+
48,d)),null}}function ub(a,b){M(a.win,"alp-for-a4a")&&b.document.documentElement.addEventListener("click",function(b){Ha(b,function(b){E(a.getAmpDoc(),"viewer").navigateTo(b,"a4a")})})}
k.G=function(a){var b=ea(a.target);if(b&&b.href){var d=b.getAttribute("data-a4a-orig-href")||b.getAttribute("href");if(d){var c=ga(this.getAmpDoc()).expandSync(d,{CLICK_X:function(){return a.pageX},CLICK_Y:function(){return a.pageY}},void 0,{CLICK_X:!0,CLICK_Y:!0});c!=d&&(b.getAttribute("data-a4a-orig-href")||b.setAttribute("data-a4a-orig-href",d),b.setAttribute("href",c))}}};k.emitLifecycleEvent=function(){};function Z(a){Y.call(this,a);u().assert(a.hasAttribute("src"),'Attribute src required for <amp-ad type="fake">: %s',a);u().assert(TextEncoder,'<amp-ad type="fake"> requires browser support for TextEncoder() function.')}m(Z,Y);Z.prototype.isValidElement=function(){return!0};Z.prototype.getAdUrl=function(){return"/extensions/amp-ad-network-fake-impl/0.1/data/"+this.element.getAttribute("src")};
Z.prototype.extractCreativeAndSignature=function(a){return K(a).then(function(a){var b=JSON.parse(a);v().info("AMP-AD-FAKE","Decoded response text =",b.creative);v().info("AMP-AD-FAKE","Decoded signature =",b.signature);var c=new TextEncoder("utf-8");return{creative:c.encode(b.creative).buffer,signature:sa(atob(b.signature))}})};AMP.registerElement("amp-ad-network-fake-impl",Z);
})});
//# sourceMappingURL=amp-ad-network-fake-impl-0.1.js.map

