(self.AMP = self.AMP || []).push({n:"amp-brid-player", f:(function(AMP) {function e(a,c){function d(){}d.prototype=c.prototype;a.prototype=new d;a.prototype.constructor=a;for(var b in c)if(Object.defineProperties){var f=Object.getOwnPropertyDescriptor(c,b);f&&Object.defineProperty(a,b,f)}else a[b]=c[b]};Date.now();self.log=self.log||{user:null,dev:null};var g=self.log;function h(){if(g.user)return g.user;throw Error("failed to call initLogConstructor");};function k(a){AMP.BaseElement.call(this,a);this.b=this.c="";this.a=null}e(k,AMP.BaseElement);k.prototype.preconnectCallback=function(a){this.preconnect.url("https://services.brid.tv",a);this.preconnect.url("https://cdn.brid.tv",a)};k.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a};
k.prototype.buildCallback=function(){this.c=h().assert(this.element.getAttribute("data-partner"),"The data-partner attribute is required for <amp-brid-player> %s",this.element);this.b=h().assert(this.element.getAttribute("data-video")||this.element.getAttribute("data-playlist"),"Either the data-video or the data-playlist attributes must be specified for <amp-brid-player> %s",this.element)};
k.prototype.layoutCallback=function(){var a=h().assert(this.element.getAttribute("data-player"),"The data-player attribute is required for <amp-brid-player> %s",this.element),c=h().assert(this.c,"The data-partner attribute is required for <amp-brid-player> %s",this.element),d="";this.element.getAttribute("data-video")?d="video":this.element.getAttribute("data-playlist")&&(d="playlist");var b=this.element.ownerDocument.createElement("iframe"),f="https://services.brid.tv/services/iframe/"+encodeURIComponent(d)+
"/"+encodeURIComponent(this.b)+"/"+encodeURIComponent(c)+"/"+encodeURIComponent(a)+"/0/1";b.setAttribute("frameborder","0");b.setAttribute("allowfullscreen","true");b.src=f;this.applyFillContent(b);this.element.appendChild(b);this.a=b;return this.loadPromise(b)};k.prototype.pauseCallback=function(){this.a&&this.a.contentWindow&&this.a.contentWindow.postMessage("Brid|pause","https://services.brid.tv")};
k.prototype.createPlaceholderCallback=function(){var a=this.win.document.createElement("amp-img"),c=this.c,d=this.b,b=this.win.document.createElement("amp-img");b.setAttribute("src","https://cdn.brid.tv/live/default/defaultSnapshot.png");b.setAttribute("referrerpolicy","origin");b.setAttribute("layout","fill");b.setAttribute("fallback","");a.appendChild(b);a.setAttribute("src","https://cdn.brid.tv/live/partners/"+encodeURIComponent(c)+"/snapshot/"+encodeURIComponent(d)+".jpg");a.setAttribute("layout",
"fill");a.setAttribute("placeholder","");a.setAttribute("referrerpolicy","origin");this.applyFillContent(a);return a};AMP.registerElement("amp-brid-player",k);
})});
//# sourceMappingURL=amp-brid-player-0.1.js.map

